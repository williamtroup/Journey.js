/*! Journey.js v0.2.0 | (c) Bunoon | MIT License */
(function(){function R(){var a=x[m[l]];k(a.element)&&O(a.onClose,a.element);E(!1);F()}function S(){E();l--;0>l&&(l=m.length-1);G()}function T(){E();l++;l>m.length-1?F():G()}function G(){var a=x[m[l]];if(k(a)&&k(a.element)){var c=n.body,b=H;try{c.contains(b)||c.appendChild(b)}catch(t){console.warn(t.message)}a.element.className+=p.space+"journey-js-element-focus";var e=a.element;for(b=c=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)c+=e.offsetLeft-e.scrollLeft,b+=e.offsetTop-e.scrollTop,e=e.offsetParent;
var g=n.documentElement;e=(q.pageXOffset||g.scrollLeft)-(g.clientLeft||0);g=(q.pageYOffset||g.scrollTop)-(g.clientTop||0);b=b-g+a.element.offsetHeight;c-=e;e=a.element;g=null;q.getComputedStyle?g=document.defaultView.getComputedStyle(e,null).getPropertyValue("position"):e.currentStyle&&(g=e.currentStyle.position);e=g;e!==p.empty&&"static"===e.toLowerCase()&&(I=e,a.element.style.position="relative");v.innerHTML=f.previousButtonText;v.disabled=0===l;y.innerHTML=l>=m.length-1?f.finishButtonText:f.nextButtonText;
u(a.title)?z.innerHTML=a.title:z.innerHTML=p.empty;u(a.description)?A.innerHTML=a.description:A.innerHTML=p.empty;h.style.display="block";c+h.offsetWidth>q.innerWidth&&(c-=h.offsetWidth+a.element.offsetWidth);b+h.offsetHeight>q.innerHeight&&(b-=h.offsetHeight+a.element.offsetHeight);h.style.top=b+"px";h.style.left=c+"px";O(a.onEnter,a.element)}}function F(){var a=n.body,c=H;try{a.contains(c)&&a.removeChild(c)}catch(b){console.warn(b.message)}h.style.display="none"}function E(a){a=k(a)?a:!0;var c=
x[m[l]];k(c.element)&&(c.element.className=c.element.className.replace(p.space+"journey-js-element-focus",p.empty),k(I)&&(c.element.style.position=I),a&&a(c.onLeave,c.element))}function k(a){return null!==a&&void 0!==a&&a!==p.empty}function B(a){return k(a)&&"object"===typeof a}function u(a){return k(a)&&"string"===typeof a}function J(a){return k(a)&&"function"===typeof a}function P(a){return k(a)&&"number"===typeof a}function r(a,c){var b=a.toLowerCase();var e="text"===b;K.hasOwnProperty(b)||(K[b]=
e?n.createTextNode(p.empty):n.createElement(b));b=K[b].cloneNode(!1);k(c)&&(b.className=c);return b}function O(a){J(a)&&a.apply(null,[].slice.call(arguments,1))}function w(a,c){return u(a)?a:c}function L(a,c){return J(a)?a:c}function U(a){var c=!0,b=null;try{u(a)&&(b=JSON.parse(a))}catch(e){try{b=eval("("+a+")"),J(b)&&(b=b())}catch(g){f.safeMode||(console.error("Errors in object: "+e.message+", "+g.message),c=!1),b=null}}return{parsed:c,result:b}}function Q(){var a=f,c=f.safeMode;var b=k(c)&&"boolean"===
typeof c;a.safeMode=b?c:!0;a=f;b=f.domElementTypes;c=["*"];u(b)?(b=b.split(p.space),0===b.length&&(b=c)):b=B(b)&&b instanceof Array?b:c;a.domElementTypes=b;f.previousButtonText=w(f.previousButtonText,"Previous");f.nextButtonText=w(f.nextButtonText,"Next");f.finishButtonText=w(f.finishButtonText,"Finish")}var n=null,q=null,f={},p={empty:"",space:" "},K={},x={},m=[],l=0,I=null,H=null,h=null,z=null,A=null,v=null,y=null;this.setConfiguration=function(a){f=B(a)?a:{};Q();return this};this.show=function(){l>
m.length-1&&(l=0);G()};this.hide=function(){F()};this.isOpen=function(){return"block"===h.style.display};this.isComplete=function(){return l>=m.length-1};this.getVersion=function(){return"0.2.0"};(function(a,c){n=a;q=c;Q();n.addEventListener("DOMContentLoaded",function(){H=r("div","journey-js-disabled-background");h=r("div","journey-js-dialog");h.style.display="none";n.body.appendChild(h);var b=r("button","close");b.onclick=R;h.appendChild(b);z=r("div","title");h.appendChild(z);A=r("div","description");
h.appendChild(A);b=r("div","buttons");h.appendChild(b);v=r("button","previous");v.onclick=S;b.appendChild(v);y=r("button","next");y.onclick=T;b.appendChild(y);b=f.domElementTypes;for(var e=b.length,g=0;g<e;g++){var t=n.getElementsByTagName(b[g]);t=[].slice.call(t);for(var V=t.length,M=0;M<V;M++){var C=t[M],N=!0;if(k(C)&&C.hasAttribute("data-journey-options")){var d=C.getAttribute("data-journey-options");if(u(d))if(d=U(d),d.parsed&&B(d.result)){d=d.result;var W=d=B(d)?d:{};var D=d.order;D=P(D)?D:0;
W.order=D;d.title=w(d.title,null);d.description=w(d.description,null);d.onEnter=L(d.onEnter,null);d.onLeave=L(d.onLeave,null);d.onClose=L(d.onClose,null);d.element=C;P(d.order)&&(x[d.order]=d,m.push(d.order))}else f.safeMode||(console.error("The attribute 'data-journey-options' is not a valid object."),N=!1);else f.safeMode||(console.error("The attribute 'data-journey-options' has not been set correctly."),N=!1)}if(!N)break}}m.sort()});k(q.$journey)||(q.$journey=this)})(document,window)})();
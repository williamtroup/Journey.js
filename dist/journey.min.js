/*! Journey.js v0.8.0 | (c) Bunoon | MIT License */
(function(){function y(){var a=C[l[g]];k(a.element)&&D(a.onClose,a.element);z(!1);a=p.body;var b=Q;try{a.contains(b)&&a.removeChild(b)}catch(c){console.warn(c.message)}h.style.display="none"}function V(){0<g&&(z(),g--,u())}function W(){if(g===l.length-1){var a=C[l[g]];y();D(a.onFinish,a.element)}else z(),g++,u()}function u(){var a=C[l[g]];if(k(a)&&k(a.element)){var b=p.body,c=Q;try{b.contains(c)||b.appendChild(c)}catch(e){console.warn(e.message)}K.style.display=d.showCloseButton?"block":"none";a.element.className+=
q.space+"journey-js-element-focus";b=X(a.element,"position");b!==q.empty&&"static"===b.toLowerCase()&&(R=b,a.element.style.position="relative");"block"!==v.style.display&&(v.style.display="block");"block"!==x.style.display&&(x.style.display="block");E.innerHTML=d.backButtonText;E.disabled=0===g;L.innerHTML=g>=l.length-1?d.finishButtonText:d.nextButtonText;Y(a);Z(a);v.innerHTML=q.empty;if(d.showProgressDots)for(b=l.length,c=0;c<b;c++)ea(c);D(a.onEnter,a.element);a.sendClick&&a.element.click()}}function Y(a){w(a.title)?
M.innerHTML=a.title:M.innerHTML=q.empty;w(a.description)?N.innerHTML=a.description:N.innerHTML=q.empty}function Z(a){var b=p.documentElement;var c=(m.pageXOffset||b.scrollLeft)-(b.clientLeft||0);var e=(m.pageYOffset||b.scrollTop)-(b.clientTop||0);"block"!==h.style.display&&(h.style.display="block",D(a.onOpen,a.element));if(a.attach||a.isHint){for(var f=a.element,t=b=0;f&&!isNaN(f.offsetLeft)&&!isNaN(f.offsetTop);)b+=f.offsetLeft-f.scrollLeft,t+=f.offsetTop-f.scrollTop,f=f.offsetParent;e=t-e+a.element.offsetHeight;
c=b-c;if(c+h.offsetWidth>m.innerWidth||a.alignRight)c-=h.offsetWidth,c+=a.element.offsetWidth;if(e+h.offsetHeight>m.innerHeight||a.alignTop)e-=h.offsetHeight+a.element.offsetHeight;h.style.top=e+"px";h.style.left=c+"px"}else a=Math.max(0,(m.innerHeight-h.offsetHeight)/2+e),h.style.left=Math.max(0,(m.innerWidth-h.offsetWidth)/2+c)+"px",h.style.top=a+"px"}function z(a){a=k(a)?a:!0;var b=C[l[g]];k(b.element)&&(b.element.className=b.element.className.replace(q.space+"journey-js-element-focus",q.empty),
k(R)&&(b.element.style.position=R),a&&D(b.onLeave,b.element))}function ea(a){if(a===g)v.appendChild(n("div","dot-active"));else{var b=n("div","dot");v.appendChild(b);b.onclick=function(){z();g=a;u()}}}function aa(a,b){b.element=a;ba(b.order)&&(w(b.title)||w(b.description))&&(b.isHint?fa(b):(C[b.order]=b,l.push(b.order)),a.removeAttribute("data-journey-options"))}function fa(a){var b=X(a.element,"position");b!==q.empty&&"static"===b.toLowerCase()&&(a.element.style.position="relative");b=n("div","journey-js-hint");
a.element.appendChild(b);b.onclick=function(c){c.preventDefault();c.cancelBubble=!0;x.style.display="none";v.style.display="none";Y(a);Z(a)}}function ha(a){F.isOpen()&&(a.keyCode===G.escape?(a.preventDefault(),y()):a.keyCode===G.left?(a.preventDefault(),V()):a.keyCode===G.right?(a.preventDefault(),W()):a.keyCode===G.up?(a.preventDefault(),0!==g&&(z(),g=0,u())):a.keyCode===G.down&&(a.preventDefault(),g!==l.length-1&&(z(),g=l.length-1,u())))}function ia(){F.isOpen()&&u()}function ca(a){var b=a=O(a)?
a:{};var c=a.order;c=ba(c)?c:0;b.order=c;a.attach=r(a.attach,!0);a.sendClick=r(a.sendClick,!1);a.alignTop=r(a.alignTop,!1);a.alignRight=r(a.alignRight,!1);a.isHint=r(a.isHint,!1);a.title=H(a.title,null);a.description=H(a.description,null);a.onEnter=I(a.onEnter,null);a.onLeave=I(a.onLeave,null);a.onClose=I(a.onClose,null);a.onFinish=I(a.onFinish,null);a.onOpen=I(a.onOpen,null);return a}function k(a){return null!==a&&void 0!==a&&a!==q.empty}function O(a){return k(a)&&"object"===typeof a}function w(a){return k(a)&&
"string"===typeof a}function S(a){return k(a)&&"function"===typeof a}function ba(a){return k(a)&&"number"===typeof a}function n(a,b){var c=a.toLowerCase();var e="text"===c;T.hasOwnProperty(c)||(T[c]=e?p.createTextNode(q.empty):p.createElement(c));c=T[c].cloneNode(!1);k(b)&&(c.className=b);return c}function X(a,b){var c=null;m.getComputedStyle?c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b):a.currentStyle&&(c=a.currentStyle[b]);return c}function D(a){S(a)&&a.apply(null,[].slice.call(arguments,
1))}function H(a,b){return w(a)?a:b}function r(a,b){return k(a)&&"boolean"===typeof a?a:b}function I(a,b){return S(a)?a:b}function ja(a){var b=!0,c=null;try{w(a)&&(c=JSON.parse(a))}catch(e){try{c=eval("("+a+")"),S(c)&&(c=c())}catch(f){d.safeMode||(console.error("Errors in object: "+e.message+", "+f.message),b=!1),c=null}}return{parsed:b,result:c}}function da(){d.safeMode=r(d.safeMode,!0);var a=d,b=d.domElementTypes,c=["*"];w(b)?(b=b.split(q.space),0===b.length&&(b=c)):b=O(b)&&b instanceof Array?b:
c;a.domElementTypes=b;d.backButtonText=H(d.backButtonText,"Back");d.nextButtonText=H(d.nextButtonText,"Next");d.finishButtonText=H(d.finishButtonText,"Finish");d.showCloseButton=r(d.showCloseButton,!0);d.shortcutKeysEnabled=r(d.shortcutKeysEnabled,!0);d.showProgressDots=r(d.showProgressDots,!0);d.browserUrlParametersEnabled=r(d.browserUrlParametersEnabled,!0)}var F=this,p=null,m=null,d={},G={escape:27,left:37,up:38,right:39,down:40},q={empty:"",space:" "},T={},C={},l=[],g=0,R=null,Q=null,h=null,K=
null,M=null,N=null,v=null,x=null,E=null,L=null;this.start=function(){g=0;u()};this.show=function(){g===l.length-1&&(g=0);u()};this.hide=function(){y()};this.isOpen=function(){return"block"===h.style.display};this.isComplete=function(){return g>=l.length-1};this.addStep=function(a,b){aa(a,ca(b));l.sort();F.isOpen()&&(y(),g=0);return this};this.setConfiguration=function(a){d=O(a)?a:{};da();F.isOpen()&&(y(),g=0);return this};this.getVersion=function(){return"0.8.0"};(function(a,b){p=a;m=b;da();p.addEventListener("DOMContentLoaded",
function(){Q=n("div","journey-js-disabled-background");h=n("div","journey-js-dialog");h.style.display="none";p.body.appendChild(h);K=n("button","close");K.onclick=y;h.appendChild(K);M=n("div","title");h.appendChild(M);N=n("div","description");h.appendChild(N);v=n("div","progress-dots");h.appendChild(v);x=n("div","buttons");h.appendChild(x);E=n("button","back");E.onclick=V;x.appendChild(E);L=n("button","next");L.onclick=W;x.appendChild(L);for(var c=d.domElementTypes,e=c.length,f=0;f<e;f++){var t=p.getElementsByTagName(c[f]);
t=[].slice.call(t);for(var J=t.length,A=0;A<J;A++){var P=t[A],U=!0;if(k(P)&&P.hasAttribute("data-journey-options")){var B=P.getAttribute("data-journey-options");w(B)?(B=ja(B),B.parsed&&O(B.result)?aa(P,ca(B.result)):d.safeMode||(console.error("The attribute 'data-journey-options' is not a valid object."),U=!1)):d.safeMode||(console.error("The attribute 'data-journey-options' has not been set correctly."),U=!1)}if(!U)break}}l.sort();e=void 0;c=(e=k(e)?e:!0)?p.addEventListener:p.removeEventListener;
e=e?m.addEventListener:m.removeEventListener;d.shortcutKeysEnabled&&c("keydown",ha);e("resize",ia);c=!1;if(d.browserUrlParametersEnabled){e={};f=m.location.href.split("?");if(1<f.length)for(f=f[1].split("&"),t=f.length,J=0;J<t;J++)A=f[J].split("="),e[A[0]]=A[1];k(e.sjOrderId)&&(f=parseInt(e.sjOrderId,10),!isNaN(f)&&f<=l.length-1&&(g=f));k(e.sjShow)&&(c="true"===e.sjShow)}c&&F.show()});k(m.$journey)||(m.$journey=this)})(document,window)})();
/*! Journey.js v0.7.0 | (c) Bunoon | MIT License */
(function(){function A(){var a=B[m[k]];l(a.element)&&C(a.onClose,a.element);y(!1);a=p.body;var c=Q;try{a.contains(c)&&a.removeChild(c)}catch(b){console.warn(b.message)}h.style.display="none"}function V(){0<k&&(y(),k--,w())}function W(){if(k===m.length-1){var a=B[m[k]];A();C(a.onFinish,a.element)}else y(),k++,w()}function w(){var a=B[m[k]];if(l(a)&&l(a.element)){var c=p.body;var b=Q;try{c.contains(b)||c.appendChild(b)}catch(x){console.warn(x.message)}J.style.display=e.showCloseButton?"block":"none";
a.element.className+=r.space+"journey-js-element-focus";c=a.element;b=null;n.getComputedStyle?b=document.defaultView.getComputedStyle(c,null).getPropertyValue("position"):c.currentStyle&&(b=c.currentStyle.position);var f=b;b=p.documentElement;c=(n.pageXOffset||b.scrollLeft)-(b.clientLeft||0);b=(n.pageYOffset||b.scrollTop)-(b.clientTop||0);f!==r.empty&&"static"===f.toLowerCase()&&(R=f,a.element.style.position="relative");D.innerHTML=e.previousButtonText;D.disabled=0===k;K.innerHTML=k>=m.length-1?e.finishButtonText:
e.nextButtonText;v(a.title)?L.innerHTML=a.title:L.innerHTML=r.empty;v(a.description)?M.innerHTML=a.description:M.innerHTML=r.empty;"block"!==h.style.display&&(h.style.display="block",C(a.onOpen,a.element));if(a.attach){for(var g=a.element,t=f=0;g&&!isNaN(g.offsetLeft)&&!isNaN(g.offsetTop);)f+=g.offsetLeft-g.scrollLeft,t+=g.offsetTop-g.scrollTop,g=g.offsetParent;b=t-b+a.element.offsetHeight;c=f-c;if(c+h.offsetWidth>n.innerWidth||a.alignRight)c-=h.offsetWidth,c+=a.element.offsetWidth;if(b+h.offsetHeight>
n.innerHeight||a.alignTop)b-=h.offsetHeight+a.element.offsetHeight;h.style.top=b+"px";h.style.left=c+"px"}else b=Math.max(0,(n.innerHeight-h.offsetHeight)/2+b),h.style.left=Math.max(0,(n.innerWidth-h.offsetWidth)/2+c)+"px",h.style.top=b+"px";a.sendClick&&a.element.click();E.innerHTML=r.empty;if(e.showProgressDots)for(c=m.length,b=0;b<c;b++)Z(b);C(a.onEnter,a.element)}}function y(a){a=l(a)?a:!0;var c=B[m[k]];l(c.element)&&(c.element.className=c.element.className.replace(r.space+"journey-js-element-focus",
r.empty),l(R)&&(c.element.style.position=R),a&&C(c.onLeave,c.element))}function Z(a){if(a===k)E.appendChild(q("div","dot-active"));else{var c=q("div","dot");E.appendChild(c);c.onclick=function(){y();k=a;w()}}}function aa(a){N.isOpen()&&(a.keyCode===F.escape?(a.preventDefault(),A()):a.keyCode===F.left?(a.preventDefault(),V()):a.keyCode===F.right?(a.preventDefault(),W()):a.keyCode===F.up?(a.preventDefault(),0!==k&&(y(),k=0,w())):a.keyCode===F.down&&(a.preventDefault(),k!==m.length-1&&(y(),k=m.length-
1,w())))}function ba(){N.isOpen()&&w()}function l(a){return null!==a&&void 0!==a&&a!==r.empty}function O(a){return l(a)&&"object"===typeof a}function v(a){return l(a)&&"string"===typeof a}function S(a){return l(a)&&"function"===typeof a}function X(a){return l(a)&&"number"===typeof a}function q(a,c){var b=a.toLowerCase();var f="text"===b;T.hasOwnProperty(b)||(T[b]=f?p.createTextNode(r.empty):p.createElement(b));b=T[b].cloneNode(!1);l(c)&&(b.className=c);return b}function C(a){S(a)&&a.apply(null,[].slice.call(arguments,
1))}function G(a,c){return v(a)?a:c}function u(a,c){return l(a)&&"boolean"===typeof a?a:c}function H(a,c){return S(a)?a:c}function ca(a){var c=!0,b=null;try{v(a)&&(b=JSON.parse(a))}catch(f){try{b=eval("("+a+")"),S(b)&&(b=b())}catch(g){e.safeMode||(console.error("Errors in object: "+f.message+", "+g.message),c=!1),b=null}}return{parsed:c,result:b}}function Y(){e.safeMode=u(e.safeMode,!0);var a=e,c=e.domElementTypes,b=["*"];v(c)?(c=c.split(r.space),0===c.length&&(c=b)):c=O(c)&&c instanceof Array?c:
b;a.domElementTypes=c;e.previousButtonText=G(e.previousButtonText,"Previous");e.nextButtonText=G(e.nextButtonText,"Next");e.finishButtonText=G(e.finishButtonText,"Finish");e.showCloseButton=u(e.showCloseButton,!0);e.shortcutKeysEnabled=u(e.shortcutKeysEnabled,!0);e.showProgressDots=u(e.showProgressDots,!0);e.browserUrlParametersEnabled=u(e.browserUrlParametersEnabled,!0)}var N=this,p=null,n=null,e={},F={escape:27,left:37,up:38,right:39,down:40},r={empty:"",space:" "},T={},B={},m=[],k=0,R=null,Q=null,
h=null,J=null,L=null,M=null,E=null,D=null,K=null;this.setConfiguration=function(a){e=O(a)?a:{};Y();N.isOpen()&&(A(),k=0);return this};this.show=function(){k===m.length-1&&(k=0);w()};this.hide=function(){A()};this.isOpen=function(){return"block"===h.style.display};this.isComplete=function(){return k>=m.length-1};this.getVersion=function(){return"0.7.0"};(function(a,c){p=a;n=c;Y();p.addEventListener("DOMContentLoaded",function(){Q=q("div","journey-js-disabled-background");h=q("div","journey-js-dialog");
h.style.display="none";p.body.appendChild(h);J=q("button","close");J.onclick=A;h.appendChild(J);L=q("div","title");h.appendChild(L);M=q("div","description");h.appendChild(M);E=q("div","progress-dots");h.appendChild(E);var b=q("div","buttons");h.appendChild(b);D=q("button","previous");D.onclick=V;b.appendChild(D);K=q("button","next");K.onclick=W;b.appendChild(K);b=e.domElementTypes;for(var f=b.length,g=0;g<f;g++){var t=p.getElementsByTagName(b[g]);t=[].slice.call(t);for(var x=t.length,z=0;z<x;z++){var I=
t[z],U=!0;if(l(I)&&I.hasAttribute("data-journey-options")){var d=I.getAttribute("data-journey-options");if(v(d))if(d=ca(d),d.parsed&&O(d.result)){d=d.result;var da=d=O(d)?d:{};var P=d.order;P=X(P)?P:0;da.order=P;d.attach=u(d.attach,!0);d.sendClick=u(d.sendClick,!1);d.alignTop=u(d.alignTop,!1);d.alignRight=u(d.alignRight,!1);d.title=G(d.title,null);d.description=G(d.description,null);d.onEnter=H(d.onEnter,null);d.onLeave=H(d.onLeave,null);d.onClose=H(d.onClose,null);d.onFinish=H(d.onFinish,null);d.onOpen=
H(d.onOpen,null);d.element=I;X(d.order)&&(v(d.title)||v(d.description))&&(B[d.order]=d,m.push(d.order),I.removeAttribute("data-journey-options"))}else e.safeMode||(console.error("The attribute 'data-journey-options' is not a valid object."),U=!1);else e.safeMode||(console.error("The attribute 'data-journey-options' has not been set correctly."),U=!1)}if(!U)break}}m.sort();f=void 0;b=(f=l(f)?f:!0)?p.addEventListener:p.removeEventListener;f=f?n.addEventListener:n.removeEventListener;e.shortcutKeysEnabled&&
b("keydown",aa);f("resize",ba);b=!1;if(e.browserUrlParametersEnabled){f={};g=n.location.href.split("?");if(1<g.length)for(g=g[1].split("&"),t=g.length,x=0;x<t;x++)z=g[x].split("="),f[z[0]]=z[1];l(f.sjOrderId)&&(g=parseInt(f.sjOrderId,10),!isNaN(g)&&g<=m.length-1&&(k=g));l(f.sjShow)&&(b="true"===f.sjShow)}b&&N.show()});l(n.$journey)||(n.$journey=this)})(document,window)})();
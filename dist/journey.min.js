/*! Journey.js v0.6.0 | (c) Bunoon | MIT License */
(function(){function y(){var a=z[n[k]];l(a.element)&&A(a.onClose,a.element);H(!1);a=p.body;var c=P;try{a.contains(c)&&a.removeChild(c)}catch(b){console.warn(b.message)}h.style.display="none"}function V(){0<k&&(H(),k--,B())}function W(){if(k===n.length-1){var a=z[n[k]];y();A(a.onFinish,a.element)}else H(),k++,B()}function B(){var a=z[n[k]];if(l(a)&&l(a.element)){var c=p.body;var b=P;try{c.contains(b)||c.appendChild(b)}catch(w){console.warn(w.message)}I.style.display=e.showCloseButton?"block":"none";
a.element.className+=r.space+"journey-js-element-focus";c=a.element;b=null;m.getComputedStyle?b=document.defaultView.getComputedStyle(c,null).getPropertyValue("position"):c.currentStyle&&(b=c.currentStyle.position);var f=b;b=p.documentElement;c=(m.pageXOffset||b.scrollLeft)-(b.clientLeft||0);b=(m.pageYOffset||b.scrollTop)-(b.clientTop||0);f!==r.empty&&"static"===f.toLowerCase()&&(Q=f,a.element.style.position="relative");C.innerHTML=e.previousButtonText;C.disabled=0===k;J.innerHTML=k>=n.length-1?e.finishButtonText:
e.nextButtonText;v(a.title)?K.innerHTML=a.title:K.innerHTML=r.empty;v(a.description)?L.innerHTML=a.description:L.innerHTML=r.empty;"block"!==h.style.display&&(h.style.display="block",A(a.onOpen,a.element));if(a.attach){for(var g=a.element,t=f=0;g&&!isNaN(g.offsetLeft)&&!isNaN(g.offsetTop);)f+=g.offsetLeft-g.scrollLeft,t+=g.offsetTop-g.scrollTop,g=g.offsetParent;b=t-b+a.element.offsetHeight;c=f-c;if(c+h.offsetWidth>m.innerWidth||a.alignRight)c-=h.offsetWidth,c+=a.element.offsetWidth;if(b+h.offsetHeight>
m.innerHeight||a.alignTop)b-=h.offsetHeight+a.element.offsetHeight;h.style.top=b+"px";h.style.left=c+"px"}else b=Math.max(0,(m.innerHeight-h.offsetHeight)/2+b),h.style.left=Math.max(0,(m.innerWidth-h.offsetWidth)/2+c)+"px",h.style.top=b+"px";a.sendClick&&a.element.click();D.innerHTML=r.empty;if(e.showProgressDots)for(c=n.length,b=0;b<c;b++)Z(b);A(a.onEnter,a.element)}}function H(a){a=l(a)?a:!0;var c=z[n[k]];l(c.element)&&(c.element.className=c.element.className.replace(r.space+"journey-js-element-focus",
r.empty),l(Q)&&(c.element.style.position=Q),a&&A(c.onLeave,c.element))}function Z(a){if(a===k)D.appendChild(q("div","dot-active"));else{var c=q("div","dot");D.appendChild(c);c.onclick=function(){H();k=a;B()}}}function aa(a){M.isOpen()&&(a.keyCode===R.escape?(a.preventDefault(),y()):a.keyCode===R.left?(a.preventDefault(),V()):a.keyCode===R.right&&(a.preventDefault(),W()))}function ba(){M.isOpen()&&B()}function l(a){return null!==a&&void 0!==a&&a!==r.empty}function N(a){return l(a)&&"object"===typeof a}
function v(a){return l(a)&&"string"===typeof a}function S(a){return l(a)&&"function"===typeof a}function X(a){return l(a)&&"number"===typeof a}function q(a,c){var b=a.toLowerCase();var f="text"===b;T.hasOwnProperty(b)||(T[b]=f?p.createTextNode(r.empty):p.createElement(b));b=T[b].cloneNode(!1);l(c)&&(b.className=c);return b}function A(a){S(a)&&a.apply(null,[].slice.call(arguments,1))}function E(a,c){return v(a)?a:c}function u(a,c){return l(a)&&"boolean"===typeof a?a:c}function F(a,c){return S(a)?a:
c}function ca(a){var c=!0,b=null;try{v(a)&&(b=JSON.parse(a))}catch(f){try{b=eval("("+a+")"),S(b)&&(b=b())}catch(g){e.safeMode||(console.error("Errors in object: "+f.message+", "+g.message),c=!1),b=null}}return{parsed:c,result:b}}function Y(){e.safeMode=u(e.safeMode,!0);var a=e,c=e.domElementTypes,b=["*"];v(c)?(c=c.split(r.space),0===c.length&&(c=b)):c=N(c)&&c instanceof Array?c:b;a.domElementTypes=c;e.previousButtonText=E(e.previousButtonText,"Previous");e.nextButtonText=E(e.nextButtonText,"Next");
e.finishButtonText=E(e.finishButtonText,"Finish");e.showCloseButton=u(e.showCloseButton,!0);e.shortcutKeysEnabled=u(e.shortcutKeysEnabled,!0);e.showProgressDots=u(e.showProgressDots,!0);e.browserUrlParametersEnabled=u(e.browserUrlParametersEnabled,!0)}var M=this,p=null,m=null,e={},R={escape:27,left:37,right:39},r={empty:"",space:" "},T={},z={},n=[],k=0,Q=null,P=null,h=null,I=null,K=null,L=null,D=null,C=null,J=null;this.setConfiguration=function(a){e=N(a)?a:{};Y();M.isOpen()&&(y(),k=0);return this};
this.show=function(){k===n.length-1&&(k=0);B()};this.hide=function(){y()};this.isOpen=function(){return"block"===h.style.display};this.isComplete=function(){return k>=n.length-1};this.getVersion=function(){return"0.6.0"};(function(a,c){p=a;m=c;Y();p.addEventListener("DOMContentLoaded",function(){P=q("div","journey-js-disabled-background");h=q("div","journey-js-dialog");h.style.display="none";p.body.appendChild(h);I=q("button","close");I.onclick=y;h.appendChild(I);K=q("div","title");h.appendChild(K);
L=q("div","description");h.appendChild(L);D=q("div","progress-dots");h.appendChild(D);var b=q("div","buttons");h.appendChild(b);C=q("button","previous");C.onclick=V;b.appendChild(C);J=q("button","next");J.onclick=W;b.appendChild(J);b=e.domElementTypes;for(var f=b.length,g=0;g<f;g++){var t=p.getElementsByTagName(b[g]);t=[].slice.call(t);for(var w=t.length,x=0;x<w;x++){var G=t[x],U=!0;if(l(G)&&G.hasAttribute("data-journey-options")){var d=G.getAttribute("data-journey-options");if(v(d))if(d=ca(d),d.parsed&&
N(d.result)){d=d.result;var da=d=N(d)?d:{};var O=d.order;O=X(O)?O:0;da.order=O;d.attach=u(d.attach,!0);d.sendClick=u(d.sendClick,!1);d.alignTop=u(d.alignTop,!1);d.alignRight=u(d.alignRight,!1);d.title=E(d.title,null);d.description=E(d.description,null);d.onEnter=F(d.onEnter,null);d.onLeave=F(d.onLeave,null);d.onClose=F(d.onClose,null);d.onFinish=F(d.onFinish,null);d.onOpen=F(d.onOpen,null);d.element=G;X(d.order)&&(v(d.title)||v(d.description))&&(z[d.order]=d,n.push(d.order),G.removeAttribute("data-journey-options"))}else e.safeMode||
(console.error("The attribute 'data-journey-options' is not a valid object."),U=!1);else e.safeMode||(console.error("The attribute 'data-journey-options' has not been set correctly."),U=!1)}if(!U)break}}n.sort();f=void 0;b=(f=l(f)?f:!0)?p.addEventListener:p.removeEventListener;f=f?m.addEventListener:m.removeEventListener;e.shortcutKeysEnabled&&b("keydown",aa);f("resize",ba);b=!1;if(e.browserUrlParametersEnabled){f={};g=m.location.href.split("?");if(1<g.length)for(g=g[1].split("&"),t=g.length,w=0;w<
t;w++)x=g[w].split("="),f[x[0]]=x[1];l(f.sjOrderId)&&(g=parseInt(f.sjOrderId,10),!isNaN(g)&&g<=n.length-1&&(k=g));l(f.sjShow)&&(b="true"===f.sjShow)}b&&M.show()});l(m.$journey)||(m.$journey=this)})(document,window)})();
/*! Journey.js v0.7.0 | (c) Bunoon | MIT License */
(function(){function B(){var a=C[m[h]];l(a.element)&&D(a.onClose,a.element);z(!1);a=q.body;var b=R;try{a.contains(b)&&a.removeChild(b)}catch(c){console.warn(c.message)}k.style.display="none"}function W(){0<h&&(z(),h--,v())}function X(){if(h===m.length-1){var a=C[m[h]];B();D(a.onFinish,a.element)}else z(),h++,v()}function v(){var a=C[m[h]];if(l(a)&&l(a.element)){var b=q.body,c=R;try{b.contains(c)||b.appendChild(c)}catch(f){console.warn(f.message)}K.style.display=e.showCloseButton?"block":"none";a.element.className+=
r.space+"journey-js-element-focus";b=Y(a.element,"position");b!==r.empty&&"static"===b.toLowerCase()&&(S=b,a.element.style.position="relative");"block"!==w.style.display&&(w.style.display="block");"block"!==y.style.display&&(y.style.display="block");E.innerHTML=e.backButtonText;E.disabled=0===h;L.innerHTML=h>=m.length-1?e.finishButtonText:e.nextButtonText;Z(a);aa(a);w.innerHTML=r.empty;if(e.showProgressDots)for(b=m.length,c=0;c<b;c++)da(c);D(a.onEnter,a.element);a.sendClick&&a.element.click()}}function Z(a){x(a.title)?
M.innerHTML=a.title:M.innerHTML=r.empty;x(a.description)?N.innerHTML=a.description:N.innerHTML=r.empty}function aa(a){var b=q.documentElement;var c=(n.pageXOffset||b.scrollLeft)-(b.clientLeft||0);var f=(n.pageYOffset||b.scrollTop)-(b.clientTop||0);"block"!==k.style.display&&(k.style.display="block",D(a.onOpen,a.element));if(a.attach||a.isHint){for(var g=a.element,u=b=0;g&&!isNaN(g.offsetLeft)&&!isNaN(g.offsetTop);)b+=g.offsetLeft-g.scrollLeft,u+=g.offsetTop-g.scrollTop,g=g.offsetParent;f=u-f+a.element.offsetHeight;
c=b-c;if(c+k.offsetWidth>n.innerWidth||a.alignRight)c-=k.offsetWidth,c+=a.element.offsetWidth;if(f+k.offsetHeight>n.innerHeight||a.alignTop)f-=k.offsetHeight+a.element.offsetHeight;k.style.top=f+"px";k.style.left=c+"px"}else a=Math.max(0,(n.innerHeight-k.offsetHeight)/2+f),k.style.left=Math.max(0,(n.innerWidth-k.offsetWidth)/2+c)+"px",k.style.top=a+"px"}function z(a){a=l(a)?a:!0;var b=C[m[h]];l(b.element)&&(b.element.className=b.element.className.replace(r.space+"journey-js-element-focus",r.empty),
l(S)&&(b.element.style.position=S),a&&D(b.onLeave,b.element))}function da(a){if(a===h)w.appendChild(p("div","dot-active"));else{var b=p("div","dot");w.appendChild(b);b.onclick=function(){z();h=a;v()}}}function ea(a){var b=Y(a.element,"position");b!==r.empty&&"static"===b.toLowerCase()&&(a.element.style.position="relative");b=p("div","journey-js-hint");a.element.appendChild(b);b.onclick=function(c){c.preventDefault();c.cancelBubble=!0;y.style.display="none";w.style.display="none";Z(a);aa(a)}}function fa(a){O.isOpen()&&
(a.keyCode===F.escape?(a.preventDefault(),B()):a.keyCode===F.left?(a.preventDefault(),W()):a.keyCode===F.right?(a.preventDefault(),X()):a.keyCode===F.up?(a.preventDefault(),0!==h&&(z(),h=0,v())):a.keyCode===F.down&&(a.preventDefault(),h!==m.length-1&&(z(),h=m.length-1,v())))}function ha(){O.isOpen()&&v()}function l(a){return null!==a&&void 0!==a&&a!==r.empty}function P(a){return l(a)&&"object"===typeof a}function x(a){return l(a)&&"string"===typeof a}function T(a){return l(a)&&"function"===typeof a}
function ba(a){return l(a)&&"number"===typeof a}function p(a,b){var c=a.toLowerCase();var f="text"===c;U.hasOwnProperty(c)||(U[c]=f?q.createTextNode(r.empty):q.createElement(c));c=U[c].cloneNode(!1);l(b)&&(c.className=b);return c}function Y(a,b){var c=null;n.getComputedStyle?c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b):a.currentStyle&&(c=a.currentStyle[b]);return c}function D(a){T(a)&&a.apply(null,[].slice.call(arguments,1))}function G(a,b){return x(a)?a:b}function t(a,b){return l(a)&&
"boolean"===typeof a?a:b}function H(a,b){return T(a)?a:b}function ia(a){var b=!0,c=null;try{x(a)&&(c=JSON.parse(a))}catch(f){try{c=eval("("+a+")"),T(c)&&(c=c())}catch(g){e.safeMode||(console.error("Errors in object: "+f.message+", "+g.message),b=!1),c=null}}return{parsed:b,result:c}}function ca(){e.safeMode=t(e.safeMode,!0);var a=e,b=e.domElementTypes,c=["*"];x(b)?(b=b.split(r.space),0===b.length&&(b=c)):b=P(b)&&b instanceof Array?b:c;a.domElementTypes=b;e.backButtonText=G(e.backButtonText,"Back");
e.nextButtonText=G(e.nextButtonText,"Next");e.finishButtonText=G(e.finishButtonText,"Finish");e.showCloseButton=t(e.showCloseButton,!0);e.shortcutKeysEnabled=t(e.shortcutKeysEnabled,!0);e.showProgressDots=t(e.showProgressDots,!0);e.browserUrlParametersEnabled=t(e.browserUrlParametersEnabled,!0)}var O=this,q=null,n=null,e={},F={escape:27,left:37,up:38,right:39,down:40},r={empty:"",space:" "},U={},C={},m=[],h=0,S=null,R=null,k=null,K=null,M=null,N=null,w=null,y=null,E=null,L=null;this.start=function(){h=
0;v()};this.show=function(){h===m.length-1&&(h=0);v()};this.hide=function(){B()};this.isOpen=function(){return"block"===k.style.display};this.isComplete=function(){return h>=m.length-1};this.setConfiguration=function(a){e=P(a)?a:{};ca();O.isOpen()&&(B(),h=0);return this};this.getVersion=function(){return"0.7.0"};(function(a,b){q=a;n=b;ca();q.addEventListener("DOMContentLoaded",function(){R=p("div","journey-js-disabled-background");k=p("div","journey-js-dialog");k.style.display="none";q.body.appendChild(k);
K=p("button","close");K.onclick=B;k.appendChild(K);M=p("div","title");k.appendChild(M);N=p("div","description");k.appendChild(N);w=p("div","progress-dots");k.appendChild(w);y=p("div","buttons");k.appendChild(y);E=p("button","back");E.onclick=W;y.appendChild(E);L=p("button","next");L.onclick=X;y.appendChild(L);for(var c=e.domElementTypes,f=c.length,g=0;g<f;g++){var u=q.getElementsByTagName(c[g]);u=[].slice.call(u);for(var I=u.length,A=0;A<I;A++){var J=u[A],V=!0;if(l(J)&&J.hasAttribute("data-journey-options")){var d=
J.getAttribute("data-journey-options");if(x(d))if(d=ia(d),d.parsed&&P(d.result)){d=d.result;var ja=d=P(d)?d:{};var Q=d.order;Q=ba(Q)?Q:0;ja.order=Q;d.attach=t(d.attach,!0);d.sendClick=t(d.sendClick,!1);d.alignTop=t(d.alignTop,!1);d.alignRight=t(d.alignRight,!1);d.isHint=t(d.isHint,!1);d.title=G(d.title,null);d.description=G(d.description,null);d.onEnter=H(d.onEnter,null);d.onLeave=H(d.onLeave,null);d.onClose=H(d.onClose,null);d.onFinish=H(d.onFinish,null);d.onOpen=H(d.onOpen,null);d.element=J;ba(d.order)&&
(x(d.title)||x(d.description))&&(d.isHint?ea(d):(C[d.order]=d,m.push(d.order)),J.removeAttribute("data-journey-options"))}else e.safeMode||(console.error("The attribute 'data-journey-options' is not a valid object."),V=!1);else e.safeMode||(console.error("The attribute 'data-journey-options' has not been set correctly."),V=!1)}if(!V)break}}m.sort();f=void 0;c=(f=l(f)?f:!0)?q.addEventListener:q.removeEventListener;f=f?n.addEventListener:n.removeEventListener;e.shortcutKeysEnabled&&c("keydown",fa);
f("resize",ha);c=!1;if(e.browserUrlParametersEnabled){f={};g=n.location.href.split("?");if(1<g.length)for(g=g[1].split("&"),u=g.length,I=0;I<u;I++)A=g[I].split("="),f[A[0]]=A[1];l(f.sjOrderId)&&(g=parseInt(f.sjOrderId,10),!isNaN(g)&&g<=m.length-1&&(h=g));l(f.sjShow)&&(c="true"===f.sjShow)}c&&O.show()});l(n.$journey)||(n.$journey=this)})(document,window)})();
"use strict";var Constants,Is,Data,DomElement;(Constants||(Constants={})).JOURNEY_JS_ATTRIBUTE_NAME="data-journey-js",(e=>{function t(e){return null!=e&&""!==e}function o(e){return t(e)&&"object"==typeof e}e.defined=t,e.definedObject=o,e.definedBoolean=function(e){return t(e)&&"boolean"==typeof e},e.definedString=function(e){return t(e)&&"string"==typeof e},e.definedFunction=function(e){return t(e)&&"function"==typeof e},e.definedNumber=function(e){return t(e)&&"number"==typeof e},e.definedArray=function(e){return o(e)&&e instanceof Array}})(Is||(Is={})),(e=>{function t(e,t){return Is.definedArray(e)?e:t}e.getDefaultAnyString=function(e,t){return"string"==typeof e?e:t},e.getDefaultString=function(e,t){return Is.definedString(e)?e:t},e.getDefaultBoolean=function(e,t){return Is.definedBoolean(e)?e:t},e.getDefaultNumber=function(e,t){return Is.definedNumber(e)?e:t},e.getDefaultFunction=function(e,t){return Is.definedFunction(e)?e:t},e.getDefaultObject=function(e,t){return Is.definedObject(e)?e:t},e.getDefaultArray=t,e.getDefaultStringOrArray=function(e,o){let n=o;if(Is.definedString(e)){const t=e.toString().split(" ");0===t.length?e=o:n=t}else n=t(e,o);return n}})(Data||(Data={})),(e=>{function t(e,t=""){const o=e.toLowerCase();let n="text"===o?document.createTextNode(""):document.createElement(o);return Is.defined(t)&&(n.className=t),n}function o(){const e=document.documentElement;return{left:e.scrollLeft-(e.clientLeft||0),top:e.scrollTop-(e.clientTop||0)}}e.create=t,e.getOffset=function(e){const t={left:0,top:0};for(;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t.left+=e.offsetLeft-e.scrollLeft,t.top+=e.offsetTop-e.scrollTop,e=e.offsetParent;return t},e.getScrollPosition=o,e.getStyleValueByName=function(e,t){return getComputedStyle(e).getPropertyValue(t)},e.addNode=function(e,t){try{e.contains(t)||e.appendChild(t)}catch(e){console.warn(e.message)}},e.removeNode=function(e,t){try{e.contains(t)&&e.removeChild(t)}catch(e){console.warn(e.message)}},e.cancelBubble=function(e){e.preventDefault(),e.stopPropagation()},e.showElementAtMousePosition=function(e,t){let n=e.pageX,i=e.pageY;const r=o();t.style.display="block",n+t.offsetWidth>window.innerWidth?n-=t.offsetWidth:n++,i+t.offsetHeight>window.innerHeight?i-=t.offsetHeight:i++,n<r.left&&(n=e.pageX+1),i<r.top&&(i=e.pageY+1),t.style.left=`${n}px`,t.style.top=`${i}px`},e.showElementBasedOnCondition=function(e,t){t?"block"!==e.style.display&&(e.style.display="block"):"none"!==e.style.display&&(e.style.display="none")},e.createCheckBox=function(e,o){const n=t("div"),i=t("label","checkbox"),r=t("input");e.appendChild(n),n.appendChild(i),i.appendChild(r),r.type="checkbox";const l=t("span","check-mark"),s=t("span","text");return s.innerHTML=o,i.appendChild(l),i.appendChild(s),r},e.clearElementsByClassName=function(e,t){let o=e.getElementsByClassName(t);for(;o[0];)o[0].parentNode.removeChild(o[0])}})(DomElement||(DomElement={})),(()=>{let _configuration={},_configuration_ShortcutKeysEnabled=!0;const _groups_Default="default";let _groups_Current=_groups_Default,_groups={},_element_Focus_Element_PositionStyle="",_element_Disabled_Background,_element_Dialog=null,_element_Dialog_Close_Button=null,_element_Dialog_Title=null,_element_Dialog_Description=null,_element_Dialog_CheckBox_Container=null,_element_Dialog_CheckBox_Input=null,_element_Dialog_ProgressDots=null,_element_Dialog_ProgressBar=null,_element_Dialog_ProgressBar_Percentage=null,_element_Dialog_ProgressBar_Percentage_Text=null,_element_Dialog_Buttons=null,_element_Dialog_Buttons_Back_Button=null,_element_Dialog_Buttons_Next_Button=null,_element_Dialog_IsHint=!1,_element_Dialog_Move_Original_X=0,_element_Dialog_Move_Original_Y=0,_element_Dialog_Move_IsMoving=!1,_element_Dialog_Move_X=0,_element_Dialog_Move_Y=0,_element_ToolTip=null,_element_ToolTip_Timer=0;function setupDefaultGroup(e=null){_groups=Data.getDefaultObject(e,{}),_groups[_groups_Default]={json:{},keys:[],position:0}}function setupNewGroup(e){_groups.hasOwnProperty(e)||(_groups[e]={json:{},keys:[],position:0})}function getGroupBindingOptions(){return _groups[_groups_Current].json[_groups[_groups_Current].keys[_groups[_groups_Current].position]]}function renderDisabledBackground(){_element_Disabled_Background=DomElement.create("div","journey-js-disabled-background"),_element_Disabled_Background.onclick=()=>{_configuration.closeDialogOnDisabledBackgroundClick&&onDialogClose()}}function showDisabledBackground(){DomElement.addNode(document.body,_element_Disabled_Background)}function hideDisabledBackground(){DomElement.removeNode(document.body,_element_Disabled_Background)}function renderDialog(){_element_Dialog=DomElement.create("div","journey-js-dialog"),_element_Dialog.style.display="none",document.body.appendChild(_element_Dialog),_element_Dialog_Close_Button=DomElement.create("button","close"),_element_Dialog.appendChild(_element_Dialog_Close_Button),_element_Dialog_Close_Button.onclick=()=>{onDialogClose()},addToolTip(_element_Dialog_Close_Button,_configuration.closeButtonToolTipText),_element_Dialog_Title=DomElement.create("div","title"),_element_Dialog.appendChild(_element_Dialog_Title),_element_Dialog_Description=DomElement.create("div","description"),_element_Dialog.appendChild(_element_Dialog_Description),_element_Dialog_CheckBox_Container=DomElement.create("div","checkbox-container"),_element_Dialog.appendChild(_element_Dialog_CheckBox_Container),_element_Dialog_CheckBox_Input=DomElement.createCheckBox(_element_Dialog_CheckBox_Container,_configuration.doNotShowAgainText),_element_Dialog_CheckBox_Input.onchange=()=>{_configuration.showDoNotShowAgain&&fireCustomTriggerEvent(_configuration.onDoNotShowAgainChange,_element_Dialog_CheckBox_Input.checked)},_element_Dialog_ProgressDots=DomElement.create("div","progress-dots"),_element_Dialog.appendChild(_element_Dialog_ProgressDots),_element_Dialog_ProgressBar=DomElement.create("div","progress-bar"),_element_Dialog.appendChild(_element_Dialog_ProgressBar),_element_Dialog_ProgressBar_Percentage=DomElement.create("div","progress-bar-percentage"),_element_Dialog_ProgressBar.appendChild(_element_Dialog_ProgressBar_Percentage),_element_Dialog_ProgressBar_Percentage_Text=DomElement.create("p","progress-bar-percentage-text"),_element_Dialog_ProgressBar_Percentage.appendChild(_element_Dialog_ProgressBar_Percentage_Text),_element_Dialog_Buttons=DomElement.create("div","buttons"),_element_Dialog.appendChild(_element_Dialog_Buttons),_element_Dialog_Buttons_Back_Button=DomElement.create("button","back"),_element_Dialog_Buttons_Back_Button.onclick=onDialogBack,_element_Dialog_Buttons.appendChild(_element_Dialog_Buttons_Back_Button),_element_Dialog_Buttons_Next_Button=DomElement.create("button","next"),_element_Dialog_Buttons_Next_Button.onclick=onDialogNext,_element_Dialog_Buttons.appendChild(_element_Dialog_Buttons_Next_Button),makeDialogMovable()}function onDialogClose(e=!0){let t=!1;if(t=!Is.definedString(_configuration.closeDialogConfirmationText)||!e||confirm(_configuration.closeDialogConfirmationText),t){const e=getGroupBindingOptions();Is.defined(e)&&Is.defined(e._currentView.element)&&fireCustomTriggerEvent(e.events.onClose,e._currentView.element),removeFocusClassFromLastElement(!1),hideDisabledBackground(),hideToolTip(),_element_Dialog.style.display="none"}}function onDialogBack(){_groups[_groups_Current].position>0&&(removeFocusClassFromLastElement(),_groups[_groups_Current].position--,showDialogAndSetPosition())}function onDialogNext(){if(_groups[_groups_Current].position===_groups[_groups_Current].keys.length-1){const e=getGroupBindingOptions();onDialogClose(!1),fireCustomTriggerEvent(e.events.onFinish,e._currentView.element)}else removeFocusClassFromLastElement(),_groups[_groups_Current].position++,showDialogAndSetPosition()}function showDialogAndSetPosition(){const e=getGroupBindingOptions();if(Is.defined(e)&&Is.defined(e._currentView.element)){e.showDisabledBackground?showDisabledBackground():hideDisabledBackground(),hideToolTip(),_element_Dialog_Close_Button.style.display=_configuration.showCloseButton?"block":"none",_configuration_ShortcutKeysEnabled=!0,e._currentView.element.classList.add("journey-js-element-focus"),_configuration.scrollToElements&&e._currentView.element.scrollIntoView();const t=DomElement.getStyleValueByName(e._currentView.element,"position");""!==t&&"static"===t.toLowerCase()&&(_element_Focus_Element_PositionStyle=t,e._currentView.element.style.position="relative"),DomElement.showElementBasedOnCondition(_element_Dialog_CheckBox_Container,_configuration.showDoNotShowAgain),DomElement.showElementBasedOnCondition(_element_Dialog_ProgressDots,_configuration.showProgressDots&&_groups[_groups_Current].keys.length>1),DomElement.showElementBasedOnCondition(_element_Dialog_ProgressBar,_configuration.showProgressBar&&_groups[_groups_Current].keys.length>1),DomElement.showElementBasedOnCondition(_element_Dialog_ProgressBar_Percentage_Text,_configuration.showProgressBarText),DomElement.showElementBasedOnCondition(_element_Dialog_Buttons,_configuration.showButtons),_element_Dialog_Buttons_Back_Button.innerHTML=_configuration.backButtonText,_element_Dialog_Buttons_Back_Button.disabled=0===_groups[_groups_Current].position,_groups[_groups_Current].position>=_groups[_groups_Current].keys.length-1?_element_Dialog_Buttons_Next_Button.innerHTML=_configuration.finishButtonText:_element_Dialog_Buttons_Next_Button.innerHTML=_configuration.nextButtonText,setDialogText(e),setDialogPosition(null,e),buildProcessDots(),setProgressBarPosition(),fireCustomTriggerEvent(e.events.onEnter,e._currentView.element),e.sendClick&&e._currentView.element.click()}}function setDialogText(e){Is.definedString(e.title)?_element_Dialog_Title.innerHTML=e.title:_element_Dialog_Title.innerHTML="",Is.definedString(e.description)?_element_Dialog_Description.innerHTML=e.description:_element_Dialog_Description.innerHTML=""}function setDialogPosition(e,t){if("block"!==_element_Dialog.style.display&&(_element_Dialog.style.display="block",fireCustomTriggerEvent(t.events.onOpen,t._currentView.element)),0===_groups[_groups_Current].position&&fireCustomTriggerEvent(t.events.onStart,t._currentView.element),_element_Dialog_IsHint=!0===t.isHint,t.attach||t.isHint)if(t.isHint&&t.alignHintToClickPosition)DomElement.showElementAtMousePosition(e,_element_Dialog);else{const e=DomElement.getOffset(t._currentView.element);let o=e.top+t._currentView.element.offsetHeight,n=e.left;(n+_element_Dialog.offsetWidth>window.innerWidth||t.alignRight)&&(n-=_element_Dialog.offsetWidth,n+=t._currentView.element.offsetWidth),(o+_element_Dialog.offsetHeight>window.innerHeight||t.alignTop)&&(o-=_element_Dialog.offsetHeight+t._currentView.element.offsetHeight),_element_Dialog.style.top=`${o}px`,_element_Dialog.style.left=`${n}px`}else{const e=DomElement.getScrollPosition(),t=Math.max(0,(window.innerWidth-_element_Dialog.offsetWidth)/2+e.left),o=Math.max(0,(window.innerHeight-_element_Dialog.offsetHeight)/2+e.top);_element_Dialog.style.left=`${t}px`,_element_Dialog.style.top=`${o}px`}}function removeFocusClassFromLastElement(e=!0){const t=getGroupBindingOptions();Is.defined(t)&&Is.defined(t._currentView.element)&&(t._currentView.element.classList.remove("journey-js-element-focus"),Is.defined(_element_Focus_Element_PositionStyle)&&(t._currentView.element.style.position=_element_Focus_Element_PositionStyle),e&&fireCustomTriggerEvent(t.events.onLeave,t._currentView.element))}function buildProcessDots(){if(_element_Dialog_ProgressDots.innerHTML="",_configuration.showProgressDots){const e=_groups[_groups_Current].keys.length;for(let t=0;t<e;t++)buildProgressDot(t,_groups[_groups_Current].keys[t])}}function buildProgressDot(e,t){const o=_groups[_groups_Current].json[t];let n;e===_groups[_groups_Current].position?n=DomElement.create("div","dot-active"):(n=DomElement.create("div","dot"),n.onclick=()=>{removeFocusClassFromLastElement(),_groups[_groups_Current].position=e,showDialogAndSetPosition()}),_element_Dialog_ProgressDots.appendChild(n),_configuration.showProgressDotToolTips&&(Is.definedString(o.tooltip)?addToolTip(n,o.tooltip):addToolTip(n,o.title)),_configuration.showProgressDotNumbers&&(n.classList.add("dot-number"),n.innerHTML=(e+1).toString())}function setProgressBarPosition(){if(_configuration.showProgressBar){const e=_element_Dialog_ProgressBar.offsetWidth/_groups[_groups_Current].keys.length,t=(_groups[_groups_Current].position+1)*e,o=Math.ceil((_groups[_groups_Current].position+1)/_groups[_groups_Current].keys.length*100);_element_Dialog_ProgressBar_Percentage.style.width=`${t}px`,_element_Dialog_ProgressBar_Percentage_Text.innerHTML=`${o}%`}}function makeDialogMovable(){_element_Dialog_Title.onmousedown=onMoveTitleBarMouseDown,_element_Dialog_Title.onmouseup=onMoveTitleBarMouseUp,_element_Dialog_Title.oncontextmenu=onMoveTitleBarMouseUp,document.body.addEventListener("mousemove",onMoveDocumentMouseMove),document.body.addEventListener("mouseleave",onMoveDocumentMouseLeave)}function onMoveTitleBarMouseDown(e){_element_Dialog_Move_IsMoving||_element_Dialog_IsHint||!_configuration.dialogMovingEnabled||(_element_Dialog.classList.add("journey-js-dialog-moving"),_element_Dialog_Move_IsMoving=!0,_element_Dialog_Move_X=e.pageX-_element_Dialog.offsetLeft,_element_Dialog_Move_Y=e.pageY-_element_Dialog.offsetTop,_element_Dialog_Move_Original_X=_element_Dialog.offsetLeft,_element_Dialog_Move_Original_Y=_element_Dialog.offsetTop)}function onMoveTitleBarMouseUp(){_element_Dialog_Move_IsMoving&&(_element_Dialog_Move_IsMoving=!1,_element_Dialog_Move_Original_X=0,_element_Dialog_Move_Original_Y=0,_element_Dialog.className="journey-js-dialog")}function onMoveDocumentMouseMove(e){_element_Dialog_Move_IsMoving&&(_element_Dialog.style.left=e.pageX-_element_Dialog_Move_X+"px",_element_Dialog.style.top=e.pageY-_element_Dialog_Move_Y+"px")}function onMoveDocumentMouseLeave(){_element_Dialog_Move_IsMoving&&(_element_Dialog.style.left=`${_element_Dialog_Move_Original_X}px`,_element_Dialog.style.top=`${_element_Dialog_Move_Original_Y}px`,_element_Dialog_Move_IsMoving=!1,_element_Dialog_Move_Original_X=0,_element_Dialog_Move_Original_Y=0,_element_Dialog.className="journey-js-dialog")}function renderToolTip(){Is.defined(_element_ToolTip)||(_element_ToolTip=DomElement.create("div","journey-js-tooltip"),_element_ToolTip.style.display="none",document.body.appendChild(_element_ToolTip),document.body.addEventListener("mousemove",(()=>{hideToolTip()})),document.addEventListener("scroll",(()=>{hideToolTip()})))}function addToolTip(e,t){null!==e&&(e.onmousemove=e=>{showToolTip(e,t)})}function showToolTip(e,t){DomElement.cancelBubble(e),hideToolTip(),_element_ToolTip_Timer=setTimeout((()=>{_element_ToolTip.innerHTML=t,_element_ToolTip.style.display="block",DomElement.showElementAtMousePosition(e,_element_ToolTip)}),_configuration.tooltipDelay)}function hideToolTip(){Is.defined(_element_ToolTip)&&(0!==_element_ToolTip_Timer&&(clearTimeout(_element_ToolTip_Timer),_element_ToolTip_Timer=0),"block"===_element_ToolTip.style.display&&(_element_ToolTip.style.display="none"))}function getElements(){const e=_configuration.domElementTypes,t=e.length;for(let o=0;o<t;o++){const t=document.getElementsByTagName(e[o]),n=[].slice.call(t),i=n.length;for(let e=0;e<i&&getElement(n[e]);e++);}_groups[_groups_Current].keys.sort()}function getElement(e){let t=!0;if(Is.defined(e)&&e.hasAttribute(Constants.JOURNEY_JS_ATTRIBUTE_NAME)){const o=e.getAttribute(Constants.JOURNEY_JS_ATTRIBUTE_NAME);if(Is.definedString(o)){const n=getObjectFromString(o);n.parsed&&Is.definedObject(n.object)?setupElement(e,buildAttributeOptions(n.object)):_configuration.safeMode||(console.error(_configuration.attributeNotValidErrorText.replace("{{attribute_name}}",Constants.JOURNEY_JS_ATTRIBUTE_NAME)),t=!1)}else _configuration.safeMode||(console.error(_configuration.attributeNotSetErrorText.replace("{{attribute_name}}",Constants.JOURNEY_JS_ATTRIBUTE_NAME)),t=!1)}return t}function setupElement(e,t){t._currentView={},t._currentView.element=e,Is.definedNumber(t.order)&&(Is.definedString(t.title)||Is.definedString(t.description))&&(e.removeAttribute(Constants.JOURNEY_JS_ATTRIBUTE_NAME),t.isHint?renderHint(t):(setupNewGroup(t.group),_groups[t.group].json[t.order]=t,_groups[t.group].keys.push(t.order),fireCustomTriggerEvent(t.events.onAddStep,e)))}function renderHint(e){const t=DomElement.getStyleValueByName(e._currentView.element,"position");""!==t&&"static"===t.toLowerCase()&&(e._currentView.element.style.position="relative");const o=DomElement.create("div","journey-js-hint");e._currentView.element.appendChild(o),o.onclick=t=>{DomElement.cancelBubble(t),_element_Dialog_CheckBox_Container.style.display="none",_element_Dialog_ProgressDots.style.display="none",_element_Dialog_ProgressBar.style.display="none",_element_Dialog_Buttons.style.display="none",_configuration_ShortcutKeysEnabled=!1,setDialogText(e),setDialogPosition(t,e),e.removeHintWhenViewed&&DomElement.clearElementsByClassName(e._currentView.element,"journey-js-hint")}}function buildDocumentEvents(e=!0){const t=e?document.addEventListener:document.removeEventListener,o=e?window.addEventListener:window.removeEventListener;_configuration.shortcutKeysEnabled&&t("keydown",onWindowKeyDown),o("resize",onWindowResize)}function onWindowKeyDown(e){_public.isOpen()&&_configuration.shortcutKeysEnabled&&("Escape"===e.code?(e.preventDefault(),onDialogClose()):_configuration_ShortcutKeysEnabled&&("ArrowLeft"===e.code?(e.preventDefault(),onDialogBack()):"ArrowRight"===e.code?(e.preventDefault(),onDialogNext()):"ArrowUp"===e.code?(e.preventDefault(),onWindowKeyCodeUp()):"ArrowDown"===e.code&&(e.preventDefault(),onWindowKeyCodeDown())))}function onWindowResize(){_public.isOpen()&&showDialogAndSetPosition()}function onWindowKeyCodeUp(){0!==_groups[_groups_Current].position&&(removeFocusClassFromLastElement(),_groups[_groups_Current].position=0,showDialogAndSetPosition())}function onWindowKeyCodeDown(){_groups[_groups_Current].position!==_groups[_groups_Current].keys.length-1&&(removeFocusClassFromLastElement(),_groups[_groups_Current].position=_groups[_groups_Current].keys.length-1,showDialogAndSetPosition())}function buildAttributeOptions(e){let t=Data.getDefaultObject(e,{});return t.order=Data.getDefaultNumber(t.order,0),t.attach=Data.getDefaultBoolean(t.attach,!0),t.sendClick=Data.getDefaultBoolean(t.sendClick,!1),t.alignTop=Data.getDefaultBoolean(t.alignTop,!1),t.alignRight=Data.getDefaultBoolean(t.alignRight,!1),t.isHint=Data.getDefaultBoolean(t.isHint,!1),t.alignHintToClickPosition=Data.getDefaultBoolean(t.alignHintToClickPosition,!1),t.showDisabledBackground=Data.getDefaultBoolean(t.showDisabledBackground,!0),t.removeHintWhenViewed=Data.getDefaultBoolean(t.removeHintWhenViewed,!1),t.group=Data.getDefaultString(t.group,_groups_Default),t=buildAttributeOptionStrings(t),buildAttributeOptionCustomTriggers(t)}function buildAttributeOptionStrings(e){return e.title=Data.getDefaultString(e.title,""),e.description=Data.getDefaultString(e.description,""),e.tooltip=Data.getDefaultString(e.tooltip,""),e}function buildAttributeOptionCustomTriggers(e){return e.events=Data.getDefaultObject(e.events,{}),e.events.onEnter=Data.getDefaultFunction(e.events.onEnter,null),e.events.onLeave=Data.getDefaultFunction(e.events.onLeave,null),e.events.onClose=Data.getDefaultFunction(e.events.onClose,null),e.events.onFinish=Data.getDefaultFunction(e.events.onFinish,null),e.events.onOpen=Data.getDefaultFunction(e.events.onOpen,null),e.events.onStart=Data.getDefaultFunction(e.events.onStart,null),e.events.onAddStep=Data.getDefaultFunction(e.events.onAddStep,null),e.events.onRemoveStep=Data.getDefaultFunction(e.events.onRemoveStep,null),e}function fireCustomTriggerEvent(e,...t){Is.definedFunction(e)&&e.apply(null,[].slice.call(t,0))}function getBrowserUrlParameters(){let e=!1;if(_configuration.browserUrlParametersEnabled){const t=getBrowserUrlArguments(window.location.href);if(Is.defined(t.sjOrderId)){const e=parseInt(t.sjOrderId,10);!isNaN(e)&&e<=_groups[_groups_Current].keys.length-1&&(_groups[_groups_Current].position=e)}Is.defined(t.sjShow)&&(e="true"===t.sjShow)}return e}function getBrowserUrlArguments(e){const t={},o=e.split("?");if(o.length>1){const e=o[1].split("&"),n=e.length;for(let o=0;o<n;o++){const n=e[o].split("=");t[n[0]]=n[1]}}return t}function getObjectFromString(objectString){const result={parsed:!0,object:null};try{Is.definedString(objectString)&&(result.object=JSON.parse(objectString))}catch(e1){try{result.object=eval(`(${objectString})`),Is.definedFunction(result.object)&&(result.object=result.object())}catch(e){_configuration.safeMode||(console.error(_configuration.objectErrorText.replace("{{error_1}}",e1.message).replace("{{error_2}}",e.message)),result.parsed=!1),result.object=null}}return result}function resetDialogPosition(){_public.isOpen()&&(onDialogClose(!1),_groups[_groups_Current].position=0)}function buildDefaultConfiguration(e={}){_configuration=Data.getDefaultObject(e,{}),_configuration.safeMode=Data.getDefaultBoolean(_configuration.safeMode,!0),_configuration.domElementTypes=Data.getDefaultStringOrArray(_configuration.domElementTypes,["*"]),_configuration.showCloseButton=Data.getDefaultBoolean(_configuration.showCloseButton,!0),_configuration.shortcutKeysEnabled=Data.getDefaultBoolean(_configuration.shortcutKeysEnabled,!0),_configuration.showProgressDots=Data.getDefaultBoolean(_configuration.showProgressDots,!0),_configuration.browserUrlParametersEnabled=Data.getDefaultBoolean(_configuration.browserUrlParametersEnabled,!0),_configuration.showProgressDotNumbers=Data.getDefaultBoolean(_configuration.showProgressDotNumbers,!1),_configuration.showButtons=Data.getDefaultBoolean(_configuration.showButtons,!0),_configuration.showDoNotShowAgain=Data.getDefaultBoolean(_configuration.showDoNotShowAgain,!1),_configuration.tooltipDelay=Data.getDefaultNumber(_configuration.tooltipDelay,750),_configuration.showProgressDotToolTips=Data.getDefaultBoolean(_configuration.showProgressDotToolTips,!0),_configuration.closeDialogOnDisabledBackgroundClick=Data.getDefaultBoolean(_configuration.closeDialogOnDisabledBackgroundClick,!1),_configuration.showProgressBar=Data.getDefaultBoolean(_configuration.showProgressBar,!1),_configuration.scrollToElements=Data.getDefaultBoolean(_configuration.scrollToElements,!1),_configuration.dialogMovingEnabled=Data.getDefaultBoolean(_configuration.dialogMovingEnabled,!1),_configuration.showProgressBarText=Data.getDefaultBoolean(_configuration.showProgressBarText,!1),buildDefaultConfigurationStrings(),buildDefaultConfigurationCustomTriggers()}function buildDefaultConfigurationStrings(){_configuration.backButtonText=Data.getDefaultAnyString(_configuration.backButtonText,"Back"),_configuration.nextButtonText=Data.getDefaultAnyString(_configuration.nextButtonText,"Next"),_configuration.finishButtonText=Data.getDefaultAnyString(_configuration.finishButtonText,"Finish"),_configuration.closeButtonToolTipText=Data.getDefaultAnyString(_configuration.closeButtonToolTipText,"Close"),_configuration.doNotShowAgainText=Data.getDefaultAnyString(_configuration.doNotShowAgainText,"Do not show again"),_configuration.objectErrorText=Data.getDefaultAnyString(_configuration.objectErrorText,"Errors in object: {{error_1}}, {{error_2}}"),_configuration.attributeNotValidErrorText=Data.getDefaultAnyString(_configuration.attributeNotValidErrorText,"The attribute '{{attribute_name}}' is not a valid object."),_configuration.attributeNotSetErrorText=Data.getDefaultAnyString(_configuration.attributeNotSetErrorText,"The attribute '{{attribute_name}}' has not been set correctly."),_configuration.closeDialogConfirmationText=Data.getDefaultAnyString(_configuration.closeDialogConfirmationText,"")}function buildDefaultConfigurationCustomTriggers(){_configuration.onDoNotShowAgainChange=Data.getDefaultFunction(_configuration.onDoNotShowAgainChange,null)}const _public={start:function(e=""){return _public.isOpen()||(_groups_Current=Data.getDefaultString(e,_groups_Default),_groups.hasOwnProperty(_groups_Current)&&(_groups[_groups_Current].position=0,showDialogAndSetPosition())),_public},show:function(e=""){return _public.isOpen()||(_groups_Current=Data.getDefaultString(e,_groups_Current),_groups.hasOwnProperty(_groups_Current)&&(_groups[_groups_Current].position===_groups[_groups_Current].keys.length-1&&(_groups[_groups_Current].position=0),showDialogAndSetPosition())),_public},hide:function(){return _public.isOpen()&&onDialogClose(),_public},isOpen:function(){return Is.defined(_element_Dialog)&&"block"===_element_Dialog.style.display},isComplete:function(){return _groups[_groups_Current].position>=_groups[_groups_Current].keys.length-1},addDocumentSteps:function(){return getElements(),_public},addStep:function(e,t){return Is.definedObject(e)&&Is.definedObject(t)&&(setupElement(e,buildAttributeOptions(t)),_groups[_groups_Current].keys.sort(),resetDialogPosition()),_public},removeStep:function(e){if(Is.definedObject(e)){let t=!1;for(let o in _groups)if(_groups.hasOwnProperty(o))for(let n in _groups[o].json)if(_groups[o].json.hasOwnProperty(n)){const i=_groups[o].json[n];if(i._currentView.element===e){fireCustomTriggerEvent(i.events.onRemoveStep,i._currentView.element),_groups[o].keys.splice(_groups[o].keys.indexOf(i.order),1),delete _groups[o].json[i.order],_groups[o].keys.sort(),t=!0;break}}t?resetDialogPosition():DomElement.clearElementsByClassName(e,"journey-js-hint")}return _public},clearSteps:function(e=""){resetDialogPosition();for(let t in _groups)if(_groups.hasOwnProperty(t)&&(!Is.definedString(e)||e===t))for(let e in _groups[t].json)if(_groups[t].json.hasOwnProperty(e)){const o=_groups[t].json[e];fireCustomTriggerEvent(o.events.onRemoveStep,o._currentView.element)}return Is.definedString(e)?_groups.hasOwnProperty(e)&&delete _groups[e]:_groups={},Is.definedString(e)&&e!==_groups_Default||setupDefaultGroup(_groups),_public},clearHints:function(){return DomElement.clearElementsByClassName(document.body,"journey-js-hint"),_public},reverseStepOrder:function(){return _groups[_groups_Current].keys.reverse(),resetDialogPosition(),_public},setConfiguration:function(e){if(Is.definedObject(e)){let t=!1;const o=_configuration;for(let n in e)e.hasOwnProperty(n)&&_configuration.hasOwnProperty(n)&&o[n]!==e[n]&&(o[n]=e[n],t=!0);t&&buildDefaultConfiguration(o)}return _public},getVersion:function(){return"2.0.3"}};buildDefaultConfiguration(),document.addEventListener("DOMContentLoaded",(()=>{setupDefaultGroup(),renderDisabledBackground(),renderDialog(),renderToolTip(),getElements(),buildDocumentEvents(),getBrowserUrlParameters()&&_public.show()})),Is.defined(window.$journey)||(window.$journey=_public)})();
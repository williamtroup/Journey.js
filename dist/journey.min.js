/*! Journey.js v0.6.0 | (c) Bunoon | MIT License */
(function(){function y(){var a=z[n[k]];l(a.element)&&F(a.onClose,a.element);G(!1);a=p.body;var c=P;try{a.contains(c)&&a.removeChild(c)}catch(b){console.warn(b.message)}h.style.display="none"}function V(){0<k&&(G(),k--,A())}function W(){if(k===n.length-1){var a=z[n[k]];y();F(a.onFinish,a.element)}else G(),k++,A()}function A(){var a=z[n[k]];if(l(a)&&l(a.element)){var c=p.body;var b=P;try{c.contains(b)||c.appendChild(b)}catch(w){console.warn(w.message)}H.style.display=e.showCloseButton?"block":"none";
a.element.className+=r.space+"journey-js-element-focus";c=a.element;b=null;m.getComputedStyle?b=document.defaultView.getComputedStyle(c,null).getPropertyValue("position"):c.currentStyle&&(b=c.currentStyle.position);var f=b;b=p.documentElement;c=(m.pageXOffset||b.scrollLeft)-(b.clientLeft||0);b=(m.pageYOffset||b.scrollTop)-(b.clientTop||0);f!==r.empty&&"static"===f.toLowerCase()&&(Q=f,a.element.style.position="relative");B.innerHTML=e.previousButtonText;B.disabled=0===k;I.innerHTML=k>=n.length-1?e.finishButtonText:
e.nextButtonText;v(a.title)?J.innerHTML=a.title:J.innerHTML=r.empty;v(a.description)?K.innerHTML=a.description:K.innerHTML=r.empty;h.style.display="block";if(a.attach){for(var g=a.element,t=f=0;g&&!isNaN(g.offsetLeft)&&!isNaN(g.offsetTop);)f+=g.offsetLeft-g.scrollLeft,t+=g.offsetTop-g.scrollTop,g=g.offsetParent;b=t-b+a.element.offsetHeight;c=f-c;if(c+h.offsetWidth>m.innerWidth||a.alignRight)c-=h.offsetWidth,c+=a.element.offsetWidth;if(b+h.offsetHeight>m.innerHeight||a.alignTop)b-=h.offsetHeight+a.element.offsetHeight;
h.style.top=b+"px";h.style.left=c+"px"}else b=Math.max(0,(m.innerHeight-h.offsetHeight)/2+b),h.style.left=Math.max(0,(m.innerWidth-h.offsetWidth)/2+c)+"px",h.style.top=b+"px";a.sendClick&&a.element.click();C.innerHTML=r.empty;if(e.showProgressDots)for(c=n.length,b=0;b<c;b++)Z(b);F(a.onEnter,a.element)}}function G(a){a=l(a)?a:!0;var c=z[n[k]];l(c.element)&&(c.element.className=c.element.className.replace(r.space+"journey-js-element-focus",r.empty),l(Q)&&(c.element.style.position=Q),a&&F(c.onLeave,
c.element))}function Z(a){if(a===k)C.appendChild(q("div","dot-active"));else{var c=q("div","dot");C.appendChild(c);c.onclick=function(){G();k=a;A()}}}function aa(a){L.isOpen()&&(a.keyCode===R.escape?(a.preventDefault(),y()):a.keyCode===R.left?(a.preventDefault(),V()):a.keyCode===R.right&&(a.preventDefault(),W()))}function ba(){L.isOpen()&&A()}function l(a){return null!==a&&void 0!==a&&a!==r.empty}function M(a){return l(a)&&"object"===typeof a}function v(a){return l(a)&&"string"===typeof a}function S(a){return l(a)&&
"function"===typeof a}function X(a){return l(a)&&"number"===typeof a}function q(a,c){var b=a.toLowerCase();var f="text"===b;T.hasOwnProperty(b)||(T[b]=f?p.createTextNode(r.empty):p.createElement(b));b=T[b].cloneNode(!1);l(c)&&(b.className=c);return b}function F(a){S(a)&&a.apply(null,[].slice.call(arguments,1))}function D(a,c){return v(a)?a:c}function u(a,c){return l(a)&&"boolean"===typeof a?a:c}function N(a,c){return S(a)?a:c}function ca(a){var c=!0,b=null;try{v(a)&&(b=JSON.parse(a))}catch(f){try{b=
eval("("+a+")"),S(b)&&(b=b())}catch(g){e.safeMode||(console.error("Errors in object: "+f.message+", "+g.message),c=!1),b=null}}return{parsed:c,result:b}}function Y(){e.safeMode=u(e.safeMode,!0);var a=e,c=e.domElementTypes,b=["*"];v(c)?(c=c.split(r.space),0===c.length&&(c=b)):c=M(c)&&c instanceof Array?c:b;a.domElementTypes=c;e.previousButtonText=D(e.previousButtonText,"Previous");e.nextButtonText=D(e.nextButtonText,"Next");e.finishButtonText=D(e.finishButtonText,"Finish");e.showCloseButton=u(e.showCloseButton,
!0);e.shortcutKeysEnabled=u(e.shortcutKeysEnabled,!0);e.showProgressDots=u(e.showProgressDots,!0);e.browserUrlParametersEnabled=u(e.browserUrlParametersEnabled,!0)}var L=this,p=null,m=null,e={},R={escape:27,left:37,right:39},r={empty:"",space:" "},T={},z={},n=[],k=0,Q=null,P=null,h=null,H=null,J=null,K=null,C=null,B=null,I=null;this.setConfiguration=function(a){e=M(a)?a:{};Y();L.isOpen()&&(y(),k=0);return this};this.show=function(){k===n.length-1&&(k=0);A()};this.hide=function(){y()};this.isOpen=
function(){return"block"===h.style.display};this.isComplete=function(){return k>=n.length-1};this.getVersion=function(){return"0.6.0"};(function(a,c){p=a;m=c;Y();p.addEventListener("DOMContentLoaded",function(){P=q("div","journey-js-disabled-background");h=q("div","journey-js-dialog");h.style.display="none";p.body.appendChild(h);H=q("button","close");H.onclick=y;h.appendChild(H);J=q("div","title");h.appendChild(J);K=q("div","description");h.appendChild(K);C=q("div","progress-dots");h.appendChild(C);
var b=q("div","buttons");h.appendChild(b);B=q("button","previous");B.onclick=V;b.appendChild(B);I=q("button","next");I.onclick=W;b.appendChild(I);b=e.domElementTypes;for(var f=b.length,g=0;g<f;g++){var t=p.getElementsByTagName(b[g]);t=[].slice.call(t);for(var w=t.length,x=0;x<w;x++){var E=t[x],U=!0;if(l(E)&&E.hasAttribute("data-journey-options")){var d=E.getAttribute("data-journey-options");if(v(d))if(d=ca(d),d.parsed&&M(d.result)){d=d.result;var da=d=M(d)?d:{};var O=d.order;O=X(O)?O:0;da.order=O;
d.attach=u(d.attach,!0);d.sendClick=u(d.sendClick,!1);d.alignTop=u(d.alignTop,!1);d.alignRight=u(d.alignRight,!1);d.title=D(d.title,null);d.description=D(d.description,null);d.onEnter=N(d.onEnter,null);d.onLeave=N(d.onLeave,null);d.onClose=N(d.onClose,null);d.onFinish=N(d.onFinish,null);d.element=E;X(d.order)&&(v(d.title)||v(d.description))&&(z[d.order]=d,n.push(d.order),E.removeAttribute("data-journey-options"))}else e.safeMode||(console.error("The attribute 'data-journey-options' is not a valid object."),
U=!1);else e.safeMode||(console.error("The attribute 'data-journey-options' has not been set correctly."),U=!1)}if(!U)break}}n.sort();f=void 0;b=(f=l(f)?f:!0)?p.addEventListener:p.removeEventListener;f=f?m.addEventListener:m.removeEventListener;e.shortcutKeysEnabled&&b("keydown",aa);f("resize",ba);b=!1;if(e.browserUrlParametersEnabled){f={};g=m.location.href.split("?");if(1<g.length)for(g=g[1].split("&"),t=g.length,w=0;w<t;w++)x=g[w].split("="),f[x[0]]=x[1];l(f.sjOrderId)&&(g=parseInt(f.sjOrderId,
10),!isNaN(g)&&g<=n.length-1&&(k=g));l(f.sjShow)&&(b="true"===f.sjShow)}b&&L.show()});l(m.$journey)||(m.$journey=this)})(document,window)})();
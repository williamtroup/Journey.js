/*! Journey.js v0.4.0 | (c) Bunoon | MIT License */
(function(){function v(){var a=w[n[h]];k(a.element)&&D(a.onClose,a.element);E(!1);a=p.body;var c=M;try{a.contains(c)&&a.removeChild(c)}catch(b){console.warn(b.message)}f.style.display="none"}function V(){0<h&&(E(),h--,x())}function W(){if(h===n.length-1){var a=w[n[h]];v();D(a.onFinish,a.element)}else E(),h++,x()}function x(){var a=w[n[h]];if(k(a)&&k(a.element)){var c=p.body;var b=M;try{c.contains(b)||c.appendChild(b)}catch(N){console.warn(N.message)}F.style.display=e.showCloseButton?"block":"none";
a.element.className+=r.space+"journey-js-element-focus";c=a.element;b=null;m.getComputedStyle?b=document.defaultView.getComputedStyle(c,null).getPropertyValue("position"):c.currentStyle&&(b=c.currentStyle.position);var g=b;b=p.documentElement;c=(m.pageXOffset||b.scrollLeft)-(b.clientLeft||0);b=(m.pageYOffset||b.scrollTop)-(b.clientTop||0);g!==r.empty&&"static"===g.toLowerCase()&&(O=g,a.element.style.position="relative");y.innerHTML=e.previousButtonText;y.disabled=0===h;G.innerHTML=h>=n.length-1?e.finishButtonText:
e.nextButtonText;t(a.title)?H.innerHTML=a.title:H.innerHTML=r.empty;t(a.description)?I.innerHTML=a.description:I.innerHTML=r.empty;f.style.display="block";if(a.attach){for(var l=a.element,u=g=0;l&&!isNaN(l.offsetLeft)&&!isNaN(l.offsetTop);)g+=l.offsetLeft-l.scrollLeft,u+=l.offsetTop-l.scrollTop,l=l.offsetParent;b=u-b+a.element.offsetHeight;c=g-c;c+f.offsetWidth>m.innerWidth&&(c-=f.offsetWidth,c+=a.element.offsetWidth);b+f.offsetHeight>m.innerHeight&&(b-=f.offsetHeight+a.element.offsetHeight);f.style.top=
b+"px";f.style.left=c+"px"}else b=Math.max(0,(m.innerHeight-f.offsetHeight)/2+b),f.style.left=Math.max(0,(m.innerWidth-f.offsetWidth)/2+c)+"px",f.style.top=b+"px";z.innerHTML=r.empty;if(e.showProgressDots)for(c=n.length,b=0;b<c;b++)Z(b);D(a.onEnter,a.element)}}function E(a){a=k(a)?a:!0;var c=w[n[h]];k(c.element)&&(c.element.className=c.element.className.replace(r.space+"journey-js-element-focus",r.empty),k(O)&&(c.element.style.position=O),a&&D(c.onLeave,c.element))}function Z(a){if(a===h)z.appendChild(q("div",
"dot-active"));else{var c=q("div","dot");z.appendChild(c);c.onclick=function(){E();h=a;x()}}}function aa(a){P.isOpen()&&(a.keyCode===Q.escape?(a.preventDefault(),v()):a.keyCode===Q.left?(a.preventDefault(),V()):a.keyCode===Q.right&&(a.preventDefault(),W()))}function ba(){P.isOpen()&&x()}function k(a){return null!==a&&void 0!==a&&a!==r.empty}function J(a){return k(a)&&"object"===typeof a}function t(a){return k(a)&&"string"===typeof a}function R(a){return k(a)&&"function"===typeof a}function X(a){return k(a)&&
"number"===typeof a}function q(a,c){var b=a.toLowerCase();var g="text"===b;S.hasOwnProperty(b)||(S[b]=g?p.createTextNode(r.empty):p.createElement(b));b=S[b].cloneNode(!1);k(c)&&(b.className=c);return b}function D(a){R(a)&&a.apply(null,[].slice.call(arguments,1))}function A(a,c){return t(a)?a:c}function B(a,c){return k(a)&&"boolean"===typeof a?a:c}function K(a,c){return R(a)?a:c}function ca(a){var c=!0,b=null;try{t(a)&&(b=JSON.parse(a))}catch(g){try{b=eval("("+a+")"),R(b)&&(b=b())}catch(l){e.safeMode||
(console.error("Errors in object: "+g.message+", "+l.message),c=!1),b=null}}return{parsed:c,result:b}}function Y(){e.safeMode=B(e.safeMode,!0);var a=e,c=e.domElementTypes,b=["*"];t(c)?(c=c.split(r.space),0===c.length&&(c=b)):c=J(c)&&c instanceof Array?c:b;a.domElementTypes=c;e.previousButtonText=A(e.previousButtonText,"Previous");e.nextButtonText=A(e.nextButtonText,"Next");e.finishButtonText=A(e.finishButtonText,"Finish");e.showCloseButton=B(e.showCloseButton,!0);e.shortcutKeysEnabled=B(e.shortcutKeysEnabled,
!0);e.showProgressDots=B(e.showProgressDots,!0)}var P=this,p=null,m=null,e={},Q={escape:27,left:37,right:39},r={empty:"",space:" "},S={},w={},n=[],h=0,O=null,M=null,f=null,F=null,H=null,I=null,z=null,y=null,G=null;this.setConfiguration=function(a){e=J(a)?a:{};Y();P.isOpen()&&(v(),h=0);return this};this.show=function(){h===n.length-1&&(h=0);x()};this.hide=function(){v()};this.isOpen=function(){return"block"===f.style.display};this.isComplete=function(){return h>=n.length-1};this.getVersion=function(){return"0.4.0"};
(function(a,c){p=a;m=c;Y();p.addEventListener("DOMContentLoaded",function(){M=q("div","journey-js-disabled-background");f=q("div","journey-js-dialog");f.style.display="none";p.body.appendChild(f);F=q("button","close");F.onclick=v;f.appendChild(F);H=q("div","title");f.appendChild(H);I=q("div","description");f.appendChild(I);z=q("div","progress-dots");f.appendChild(z);var b=q("div","buttons");f.appendChild(b);y=q("button","previous");y.onclick=V;b.appendChild(y);G=q("button","next");G.onclick=W;b.appendChild(G);
b=e.domElementTypes;for(var g=b.length,l=0;l<g;l++){var u=p.getElementsByTagName(b[l]);u=[].slice.call(u);for(var N=u.length,T=0;T<N;T++){var C=u[T],U=!0;if(k(C)&&C.hasAttribute("data-journey-options")){var d=C.getAttribute("data-journey-options");if(t(d))if(d=ca(d),d.parsed&&J(d.result)){d=d.result;var da=d=J(d)?d:{};var L=d.order;L=X(L)?L:0;da.order=L;d.attach=B(d.attach,!0);d.title=A(d.title,null);d.description=A(d.description,null);d.onEnter=K(d.onEnter,null);d.onLeave=K(d.onLeave,null);d.onClose=
K(d.onClose,null);d.onFinish=K(d.onFinish,null);d.element=C;X(d.order)&&(t(d.title)||t(d.description))&&(w[d.order]=d,n.push(d.order),C.removeAttribute("data-journey-options"))}else e.safeMode||(console.error("The attribute 'data-journey-options' is not a valid object."),U=!1);else e.safeMode||(console.error("The attribute 'data-journey-options' has not been set correctly."),U=!1)}if(!U)break}}n.sort();g=void 0;b=(g=k(g)?g:!0)?p.addEventListener:p.removeEventListener;g=g?m.addEventListener:m.removeEventListener;
e.shortcutKeysEnabled&&b("keydown",aa);g("resize",ba)});k(m.$journey)||(m.$journey=this)})(document,window)})();
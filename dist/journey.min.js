/*! Journey.js v0.4.0 | (c) Bunoon | MIT License */
(function(){function v(){var a=w[p[l]];h(a.element)&&A(a.onClose,a.element);K(!1);a=n.body;var c=L;try{a.contains(c)&&a.removeChild(c)}catch(b){console.warn(b.message)}f.style.display="none"}function U(){0<l&&(K(),l--,B())}function V(){if(l===p.length-1){var a=w[p[l]];v();A(a.onFinish,a.element)}else K(),l++,B()}function B(){var a=w[p[l]];if(h(a)&&h(a.element)){var c=n.body;var b=L;try{c.contains(b)||c.appendChild(b)}catch(M){console.warn(M.message)}C.style.display=e.showCloseButton?"block":"none";
a.element.className+=q.space+"journey-js-element-focus";c=a.element;b=null;m.getComputedStyle?b=document.defaultView.getComputedStyle(c,null).getPropertyValue("position"):c.currentStyle&&(b=c.currentStyle.position);var g=b;b=n.documentElement;c=(m.pageXOffset||b.scrollLeft)-(b.clientLeft||0);b=(m.pageYOffset||b.scrollTop)-(b.clientTop||0);g!==q.empty&&"static"===g.toLowerCase()&&(N=g,a.element.style.position="relative");x.innerHTML=e.previousButtonText;x.disabled=0===l;D.innerHTML=l>=p.length-1?e.finishButtonText:
e.nextButtonText;r(a.title)?E.innerHTML=a.title:E.innerHTML=q.empty;r(a.description)?F.innerHTML=a.description:F.innerHTML=q.empty;f.style.display="block";if(a.attach){for(var k=a.element,u=g=0;k&&!isNaN(k.offsetLeft)&&!isNaN(k.offsetTop);)g+=k.offsetLeft-k.scrollLeft,u+=k.offsetTop-k.scrollTop,k=k.offsetParent;b=u-b+a.element.offsetHeight;c=g-c;c+f.offsetWidth>m.innerWidth&&(c-=f.offsetWidth,c+=a.element.offsetWidth);b+f.offsetHeight>m.innerHeight&&(b-=f.offsetHeight+a.element.offsetHeight);f.style.top=
b+"px";f.style.left=c+"px"}else b=Math.max(0,(m.innerHeight-f.offsetHeight)/2+b),f.style.left=Math.max(0,(m.innerWidth-f.offsetWidth)/2+c)+"px",f.style.top=b+"px";A(a.onEnter,a.element)}}function K(a){a=h(a)?a:!0;var c=w[p[l]];h(c.element)&&(c.element.className=c.element.className.replace(q.space+"journey-js-element-focus",q.empty),h(N)&&(c.element.style.position=N),a&&A(c.onLeave,c.element))}function Y(a){O.isOpen()&&(a.keyCode===P.escape?(a.preventDefault(),v()):a.keyCode===P.left?(a.preventDefault(),
U()):a.keyCode===P.right&&(a.preventDefault(),V()))}function Z(){O.isOpen()&&B()}function h(a){return null!==a&&void 0!==a&&a!==q.empty}function G(a){return h(a)&&"object"===typeof a}function r(a){return h(a)&&"string"===typeof a}function Q(a){return h(a)&&"function"===typeof a}function W(a){return h(a)&&"number"===typeof a}function t(a,c){var b=a.toLowerCase();var g="text"===b;R.hasOwnProperty(b)||(R[b]=g?n.createTextNode(q.empty):n.createElement(b));b=R[b].cloneNode(!1);h(c)&&(b.className=c);return b}
function A(a){Q(a)&&a.apply(null,[].slice.call(arguments,1))}function y(a,c){return r(a)?a:c}function H(a,c){return h(a)&&"boolean"===typeof a?a:c}function I(a,c){return Q(a)?a:c}function aa(a){var c=!0,b=null;try{r(a)&&(b=JSON.parse(a))}catch(g){try{b=eval("("+a+")"),Q(b)&&(b=b())}catch(k){e.safeMode||(console.error("Errors in object: "+g.message+", "+k.message),c=!1),b=null}}return{parsed:c,result:b}}function X(){e.safeMode=H(e.safeMode,!0);var a=e,c=e.domElementTypes,b=["*"];r(c)?(c=c.split(q.space),
0===c.length&&(c=b)):c=G(c)&&c instanceof Array?c:b;a.domElementTypes=c;e.previousButtonText=y(e.previousButtonText,"Previous");e.nextButtonText=y(e.nextButtonText,"Next");e.finishButtonText=y(e.finishButtonText,"Finish");e.showCloseButton=H(e.showCloseButton,!0);e.shortcutKeysEnabled=H(e.shortcutKeysEnabled,!0)}var O=this,n=null,m=null,e={},P={escape:27,left:37,right:39},q={empty:"",space:" "},R={},w={},p=[],l=0,N=null,L=null,f=null,C=null,E=null,F=null,x=null,D=null;this.setConfiguration=function(a){e=
G(a)?a:{};X();O.isOpen()&&(v(),l=0);return this};this.show=function(){l===p.length-1&&(l=0);B()};this.hide=function(){v()};this.isOpen=function(){return"block"===f.style.display};this.isComplete=function(){return l>=p.length-1};this.getVersion=function(){return"0.4.0"};(function(a,c){n=a;m=c;X();n.addEventListener("DOMContentLoaded",function(){L=t("div","journey-js-disabled-background");f=t("div","journey-js-dialog");f.style.display="none";n.body.appendChild(f);C=t("button","close");C.onclick=v;f.appendChild(C);
E=t("div","title");f.appendChild(E);F=t("div","description");f.appendChild(F);var b=t("div","buttons");f.appendChild(b);x=t("button","previous");x.onclick=U;b.appendChild(x);D=t("button","next");D.onclick=V;b.appendChild(D);b=e.domElementTypes;for(var g=b.length,k=0;k<g;k++){var u=n.getElementsByTagName(b[k]);u=[].slice.call(u);for(var M=u.length,S=0;S<M;S++){var z=u[S],T=!0;if(h(z)&&z.hasAttribute("data-journey-options")){var d=z.getAttribute("data-journey-options");if(r(d))if(d=aa(d),d.parsed&&
G(d.result)){d=d.result;var ba=d=G(d)?d:{};var J=d.order;J=W(J)?J:0;ba.order=J;d.attach=H(d.attach,!0);d.title=y(d.title,null);d.description=y(d.description,null);d.onEnter=I(d.onEnter,null);d.onLeave=I(d.onLeave,null);d.onClose=I(d.onClose,null);d.onFinish=I(d.onFinish,null);d.element=z;W(d.order)&&(r(d.title)||r(d.description))&&(w[d.order]=d,p.push(d.order),z.removeAttribute("data-journey-options"))}else e.safeMode||(console.error("The attribute 'data-journey-options' is not a valid object."),
T=!1);else e.safeMode||(console.error("The attribute 'data-journey-options' has not been set correctly."),T=!1)}if(!T)break}}p.sort();g=void 0;b=(g=h(g)?g:!0)?n.addEventListener:n.removeEventListener;g=g?m.addEventListener:m.removeEventListener;e.shortcutKeysEnabled&&b("keydown",Y);g("resize",Z)});h(m.$journey)||(m.$journey=this)})(document,window)})();
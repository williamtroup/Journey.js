"use strict";var Constants,Is,Default,DomElement;(Constants||(Constants={})).JOURNEY_JS_ATTRIBUTE_NAME="data-journey-js",(e=>{function o(e){return null!=e&&""!==e}function t(e){return o(e)&&"object"==typeof e}e.defined=o,e.definedObject=t,e.definedBoolean=function(e){return o(e)&&"boolean"==typeof e},e.definedString=function(e){return o(e)&&"string"==typeof e},e.definedFunction=function(e){return o(e)&&"function"==typeof e},e.definedNumber=function(e){return o(e)&&"number"==typeof e},e.definedArray=function(e){return t(e)&&e instanceof Array}})(Is||(Is={})),(e=>{function o(e,o){return Is.definedArray(e)?e:o}e.getAnyString=function(e,o){return"string"==typeof e?e:o},e.getString=function(e,o){return Is.definedString(e)?e:o},e.getBoolean=function(e,o){return Is.definedBoolean(e)?e:o},e.getNumber=function(e,o){return Is.definedNumber(e)?e:o},e.getFunction=function(e,o){return Is.definedFunction(e)?e:o},e.getObject=function(e,o){return Is.definedObject(e)?e:o},e.getArray=o,e.getStringOrArray=function(e,t){let n=t;if(Is.definedString(e)){const o=e.toString().split(" ");0===o.length?e=t:n=o}else n=o(e,t);return n}})(Default||(Default={})),(e=>{function o(e,o=""){const t=e.toLowerCase();let n="text"===t?document.createTextNode(""):document.createElement(t);return Is.defined(o)&&(n.className=o),n}function t(){const e=document.documentElement;return{left:e.scrollLeft-(e.clientLeft||0),top:e.scrollTop-(e.clientTop||0)}}e.create=o,e.getOffset=function(e){const o={left:0,top:0};for(;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)o.left+=e.offsetLeft-e.scrollLeft,o.top+=e.offsetTop-e.scrollTop,e=e.offsetParent;return o},e.getScrollPosition=t,e.getStyleValueByName=function(e,o){return getComputedStyle(e).getPropertyValue(o)},e.addNode=function(e,o){try{e.contains(o)||e.appendChild(o)}catch(e){console.warn(e.message)}},e.removeNode=function(e,o){try{e.contains(o)&&e.removeChild(o)}catch(e){console.warn(e.message)}},e.cancelBubble=function(e){e.preventDefault(),e.stopPropagation()},e.showElementAtMousePosition=function(e,o){let n=e.pageX,i=e.pageY;const r=t();o.style.display="block",n+o.offsetWidth>window.innerWidth?n-=o.offsetWidth:n++,i+o.offsetHeight>window.innerHeight?i-=o.offsetHeight:i++,n<r.left&&(n=e.pageX+1),i<r.top&&(i=e.pageY+1),o.style.left=`${n}px`,o.style.top=`${i}px`},e.showElementBasedOnCondition=function(e,o){o?"block"!==e.style.display&&(e.style.display="block"):"none"!==e.style.display&&(e.style.display="none")},e.createCheckBox=function(e,t){const n=o("div"),i=o("label","checkbox"),r=o("input");e.appendChild(n),n.appendChild(i),i.appendChild(r),r.type="checkbox";const l=o("span","check-mark"),s=o("span","text");return s.innerHTML=t,i.appendChild(l),i.appendChild(s),r},e.clearElementsByClassName=function(e,o){let t=e.getElementsByClassName(o);for(;t[0];)t[0].parentNode.removeChild(t[0])}})(DomElement||(DomElement={})),(()=>{let _configuration={},_configuration_ShortcutKeysEnabled=!0;const _groups_Default="default";let _groups_Current=_groups_Default,_groups={},_element_Focus_Element_PositionStyle="",_element_Disabled_Background,_element_Dialog=null,_element_Dialog_Close_Button=null,_element_Dialog_Title=null,_element_Dialog_Description=null,_element_Dialog_CheckBox_Container=null,_element_Dialog_CheckBox_Input=null,_element_Dialog_ProgressDots=null,_element_Dialog_ProgressBar=null,_element_Dialog_ProgressBar_Percentage=null,_element_Dialog_ProgressBar_Percentage_Text=null,_element_Dialog_Buttons=null,_element_Dialog_Buttons_Back_Button=null,_element_Dialog_Buttons_Next_Button=null,_element_Dialog_IsHint=!1,_element_Dialog_Move_Original_X=0,_element_Dialog_Move_Original_Y=0,_element_Dialog_Move_IsMoving=!1,_element_Dialog_Move_X=0,_element_Dialog_Move_Y=0,_element_ToolTip=null,_element_ToolTip_Timer=0;function setupDefaultGroup(e=null){_groups=Default.getObject(e,{}),_groups[_groups_Default]={json:{},keys:[],position:0}}function setupNewGroup(e){_groups.hasOwnProperty(e)||(_groups[e]={json:{},keys:[],position:0})}function getGroupBindingOptions(){return _groups[_groups_Current].json[_groups[_groups_Current].keys[_groups[_groups_Current].position]]}function renderDisabledBackground(){_element_Disabled_Background=DomElement.create("div","journey-js-disabled-background"),_element_Disabled_Background.onclick=()=>{_configuration.closeDialogOnDisabledBackgroundClick&&onDialogClose()}}function showDisabledBackground(){DomElement.addNode(document.body,_element_Disabled_Background)}function hideDisabledBackground(){DomElement.removeNode(document.body,_element_Disabled_Background)}function renderDialog(){_element_Dialog=DomElement.create("div","journey-js-dialog"),_element_Dialog.style.display="none",document.body.appendChild(_element_Dialog),_element_Dialog_Close_Button=DomElement.create("button","close"),_element_Dialog.appendChild(_element_Dialog_Close_Button),_element_Dialog_Close_Button.onclick=()=>{onDialogClose()},addToolTip(_element_Dialog_Close_Button,_configuration.closeButtonToolTipText),_element_Dialog_Title=DomElement.create("div","title"),_element_Dialog.appendChild(_element_Dialog_Title),_element_Dialog_Description=DomElement.create("div","description"),_element_Dialog.appendChild(_element_Dialog_Description),_element_Dialog_CheckBox_Container=DomElement.create("div","checkbox-container"),_element_Dialog.appendChild(_element_Dialog_CheckBox_Container),_element_Dialog_CheckBox_Input=DomElement.createCheckBox(_element_Dialog_CheckBox_Container,_configuration.doNotShowAgainText),_element_Dialog_CheckBox_Input.onchange=()=>{_configuration.showDoNotShowAgain&&fireCustomTriggerEvent(_configuration.onDoNotShowAgainChange,_element_Dialog_CheckBox_Input.checked)},_element_Dialog_ProgressDots=DomElement.create("div","progress-dots"),_element_Dialog.appendChild(_element_Dialog_ProgressDots),_element_Dialog_ProgressBar=DomElement.create("div","progress-bar"),_element_Dialog.appendChild(_element_Dialog_ProgressBar),_element_Dialog_ProgressBar_Percentage=DomElement.create("div","progress-bar-percentage"),_element_Dialog_ProgressBar.appendChild(_element_Dialog_ProgressBar_Percentage),_element_Dialog_ProgressBar_Percentage_Text=DomElement.create("p","progress-bar-percentage-text"),_element_Dialog_ProgressBar_Percentage.appendChild(_element_Dialog_ProgressBar_Percentage_Text),_element_Dialog_Buttons=DomElement.create("div","buttons"),_element_Dialog.appendChild(_element_Dialog_Buttons),_element_Dialog_Buttons_Back_Button=DomElement.create("button","back"),_element_Dialog_Buttons_Back_Button.onclick=onDialogBack,_element_Dialog_Buttons.appendChild(_element_Dialog_Buttons_Back_Button),_element_Dialog_Buttons_Next_Button=DomElement.create("button","next"),_element_Dialog_Buttons_Next_Button.onclick=onDialogNext,_element_Dialog_Buttons.appendChild(_element_Dialog_Buttons_Next_Button),makeDialogMovable()}function onDialogClose(e=!0){let o=!1;if(o=!Is.definedString(_configuration.closeDialogConfirmationText)||!e||confirm(_configuration.closeDialogConfirmationText),o){const e=getGroupBindingOptions();Is.defined(e)&&Is.defined(e._currentView.element)&&fireCustomTriggerEvent(e.events.onClose,e._currentView.element),removeFocusClassFromLastElement(!1),hideDisabledBackground(),hideToolTip(),_element_Dialog.style.display="none"}}function onDialogBack(){_groups[_groups_Current].position>0&&(removeFocusClassFromLastElement(),_groups[_groups_Current].position--,showDialogAndSetPosition())}function onDialogNext(){if(_groups[_groups_Current].position===_groups[_groups_Current].keys.length-1){const e=getGroupBindingOptions();onDialogClose(!1),fireCustomTriggerEvent(e.events.onFinish,e._currentView.element)}else removeFocusClassFromLastElement(),_groups[_groups_Current].position++,showDialogAndSetPosition()}function showDialogAndSetPosition(){const e=getGroupBindingOptions();if(Is.defined(e)&&Is.defined(e._currentView.element)){e.showDisabledBackground?showDisabledBackground():hideDisabledBackground(),hideToolTip(),_element_Dialog_Close_Button.style.display=_configuration.showCloseButton?"block":"none",_configuration_ShortcutKeysEnabled=!0,e._currentView.element.classList.add("journey-js-element-focus"),_configuration.scrollToElements&&e._currentView.element.scrollIntoView();const o=DomElement.getStyleValueByName(e._currentView.element,"position");""!==o&&"static"===o.toLowerCase()&&(_element_Focus_Element_PositionStyle=o,e._currentView.element.style.position="relative"),DomElement.showElementBasedOnCondition(_element_Dialog_CheckBox_Container,_configuration.showDoNotShowAgain),DomElement.showElementBasedOnCondition(_element_Dialog_ProgressDots,_configuration.showProgressDots&&_groups[_groups_Current].keys.length>1),DomElement.showElementBasedOnCondition(_element_Dialog_ProgressBar,_configuration.showProgressBar&&_groups[_groups_Current].keys.length>1),DomElement.showElementBasedOnCondition(_element_Dialog_ProgressBar_Percentage_Text,_configuration.showProgressBarText),DomElement.showElementBasedOnCondition(_element_Dialog_Buttons,_configuration.showButtons),_element_Dialog_Buttons_Back_Button.innerHTML=_configuration.backButtonText,_element_Dialog_Buttons_Back_Button.disabled=0===_groups[_groups_Current].position,_groups[_groups_Current].position>=_groups[_groups_Current].keys.length-1?_element_Dialog_Buttons_Next_Button.innerHTML=_configuration.finishButtonText:_element_Dialog_Buttons_Next_Button.innerHTML=_configuration.nextButtonText,setDialogText(e),setDialogPosition(null,e),buildProcessDots(),setProgressBarPosition(),fireCustomTriggerEvent(e.events.onEnter,e._currentView.element),e.sendClick&&e._currentView.element.click()}}function setDialogText(e){Is.definedString(e.title)?_element_Dialog_Title.innerHTML=e.title:_element_Dialog_Title.innerHTML="",Is.definedString(e.description)?_element_Dialog_Description.innerHTML=e.description:_element_Dialog_Description.innerHTML=""}function setDialogPosition(e,o){if("block"!==_element_Dialog.style.display&&(_element_Dialog.style.display="block",fireCustomTriggerEvent(o.events.onOpen,o._currentView.element)),0===_groups[_groups_Current].position&&fireCustomTriggerEvent(o.events.onStart,o._currentView.element),_element_Dialog_IsHint=!0===o.isHint,o.attach||o.isHint)if(o.isHint&&o.alignHintToClickPosition)DomElement.showElementAtMousePosition(e,_element_Dialog);else{const e=DomElement.getOffset(o._currentView.element);let t=e.top+o._currentView.element.offsetHeight,n=e.left;(n+_element_Dialog.offsetWidth>window.innerWidth||o.alignRight)&&(n-=_element_Dialog.offsetWidth,n+=o._currentView.element.offsetWidth),(t+_element_Dialog.offsetHeight>window.innerHeight||o.alignTop)&&(t-=_element_Dialog.offsetHeight+o._currentView.element.offsetHeight),_element_Dialog.style.top=`${t}px`,_element_Dialog.style.left=`${n}px`}else{const e=DomElement.getScrollPosition(),o=Math.max(0,(window.innerWidth-_element_Dialog.offsetWidth)/2+e.left),t=Math.max(0,(window.innerHeight-_element_Dialog.offsetHeight)/2+e.top);_element_Dialog.style.left=`${o}px`,_element_Dialog.style.top=`${t}px`}}function removeFocusClassFromLastElement(e=!0){const o=getGroupBindingOptions();Is.defined(o)&&Is.defined(o._currentView.element)&&(o._currentView.element.classList.remove("journey-js-element-focus"),Is.defined(_element_Focus_Element_PositionStyle)&&(o._currentView.element.style.position=_element_Focus_Element_PositionStyle),e&&fireCustomTriggerEvent(o.events.onLeave,o._currentView.element))}function buildProcessDots(){if(_element_Dialog_ProgressDots.innerHTML="",_configuration.showProgressDots){const e=_groups[_groups_Current].keys.length;for(let o=0;o<e;o++)buildProgressDot(o,_groups[_groups_Current].keys[o])}}function buildProgressDot(e,o){const t=_groups[_groups_Current].json[o];let n;e===_groups[_groups_Current].position?n=DomElement.create("div","dot-active"):(n=DomElement.create("div","dot"),n.onclick=()=>{removeFocusClassFromLastElement(),_groups[_groups_Current].position=e,showDialogAndSetPosition()}),_element_Dialog_ProgressDots.appendChild(n),_configuration.showProgressDotToolTips&&(Is.definedString(t.tooltip)?addToolTip(n,t.tooltip):addToolTip(n,t.title)),_configuration.showProgressDotNumbers&&(n.classList.add("dot-number"),n.innerHTML=(e+1).toString())}function setProgressBarPosition(){if(_configuration.showProgressBar){const e=_element_Dialog_ProgressBar.offsetWidth/_groups[_groups_Current].keys.length,o=(_groups[_groups_Current].position+1)*e,t=Math.ceil((_groups[_groups_Current].position+1)/_groups[_groups_Current].keys.length*100);_element_Dialog_ProgressBar_Percentage.style.width=`${o}px`,_element_Dialog_ProgressBar_Percentage_Text.innerHTML=`${t}%`}}function makeDialogMovable(){_element_Dialog_Title.onmousedown=onMoveTitleBarMouseDown,_element_Dialog_Title.onmouseup=onMoveTitleBarMouseUp,_element_Dialog_Title.oncontextmenu=onMoveTitleBarMouseUp,document.body.addEventListener("mousemove",onMoveDocumentMouseMove),document.body.addEventListener("mouseleave",onMoveDocumentMouseLeave)}function onMoveTitleBarMouseDown(e){_element_Dialog_Move_IsMoving||_element_Dialog_IsHint||!_configuration.dialogMovingEnabled||(_element_Dialog.classList.add("journey-js-dialog-moving"),_element_Dialog_Move_IsMoving=!0,_element_Dialog_Move_X=e.pageX-_element_Dialog.offsetLeft,_element_Dialog_Move_Y=e.pageY-_element_Dialog.offsetTop,_element_Dialog_Move_Original_X=_element_Dialog.offsetLeft,_element_Dialog_Move_Original_Y=_element_Dialog.offsetTop)}function onMoveTitleBarMouseUp(){_element_Dialog_Move_IsMoving&&(_element_Dialog_Move_IsMoving=!1,_element_Dialog_Move_Original_X=0,_element_Dialog_Move_Original_Y=0,_element_Dialog.className="journey-js-dialog")}function onMoveDocumentMouseMove(e){_element_Dialog_Move_IsMoving&&(_element_Dialog.style.left=e.pageX-_element_Dialog_Move_X+"px",_element_Dialog.style.top=e.pageY-_element_Dialog_Move_Y+"px")}function onMoveDocumentMouseLeave(){_element_Dialog_Move_IsMoving&&(_element_Dialog.style.left=`${_element_Dialog_Move_Original_X}px`,_element_Dialog.style.top=`${_element_Dialog_Move_Original_Y}px`,_element_Dialog_Move_IsMoving=!1,_element_Dialog_Move_Original_X=0,_element_Dialog_Move_Original_Y=0,_element_Dialog.className="journey-js-dialog")}function renderToolTip(){Is.defined(_element_ToolTip)||(_element_ToolTip=DomElement.create("div","journey-js-tooltip"),_element_ToolTip.style.display="none",document.body.appendChild(_element_ToolTip),document.body.addEventListener("mousemove",(()=>{hideToolTip()})),document.addEventListener("scroll",(()=>{hideToolTip()})))}function addToolTip(e,o){null!==e&&(e.onmousemove=e=>{showToolTip(e,o)})}function showToolTip(e,o){DomElement.cancelBubble(e),hideToolTip(),_element_ToolTip_Timer=setTimeout((()=>{_element_ToolTip.innerHTML=o,_element_ToolTip.style.display="block",DomElement.showElementAtMousePosition(e,_element_ToolTip)}),_configuration.tooltipDelay)}function hideToolTip(){Is.defined(_element_ToolTip)&&(0!==_element_ToolTip_Timer&&(clearTimeout(_element_ToolTip_Timer),_element_ToolTip_Timer=0),"block"===_element_ToolTip.style.display&&(_element_ToolTip.style.display="none"))}function getElements(){const e=_configuration.domElementTypes,o=e.length;for(let t=0;t<o;t++){const o=document.getElementsByTagName(e[t]),n=[].slice.call(o),i=n.length;for(let e=0;e<i&&getElement(n[e]);e++);}_groups[_groups_Current].keys.sort()}function getElement(e){let o=!0;if(Is.defined(e)&&e.hasAttribute(Constants.JOURNEY_JS_ATTRIBUTE_NAME)){const t=e.getAttribute(Constants.JOURNEY_JS_ATTRIBUTE_NAME);if(Is.definedString(t)){const n=getObjectFromString(t);n.parsed&&Is.definedObject(n.object)?setupElement(e,buildAttributeOptions(n.object)):_configuration.safeMode||(console.error(_configuration.attributeNotValidErrorText.replace("{{attribute_name}}",Constants.JOURNEY_JS_ATTRIBUTE_NAME)),o=!1)}else _configuration.safeMode||(console.error(_configuration.attributeNotSetErrorText.replace("{{attribute_name}}",Constants.JOURNEY_JS_ATTRIBUTE_NAME)),o=!1)}return o}function setupElement(e,o){o._currentView={},o._currentView.element=e,Is.definedNumber(o.order)&&(Is.definedString(o.title)||Is.definedString(o.description))&&(e.removeAttribute(Constants.JOURNEY_JS_ATTRIBUTE_NAME),o.isHint?renderHint(o):(setupNewGroup(o.group),_groups[o.group].json[o.order]=o,_groups[o.group].keys.push(o.order),fireCustomTriggerEvent(o.events.onAddStep,e)))}function renderHint(e){const o=DomElement.getStyleValueByName(e._currentView.element,"position");""!==o&&"static"===o.toLowerCase()&&(e._currentView.element.style.position="relative");const t=DomElement.create("div","journey-js-hint");e._currentView.element.appendChild(t),t.onclick=o=>{DomElement.cancelBubble(o),_element_Dialog_CheckBox_Container.style.display="none",_element_Dialog_ProgressDots.style.display="none",_element_Dialog_ProgressBar.style.display="none",_element_Dialog_Buttons.style.display="none",_configuration_ShortcutKeysEnabled=!1,setDialogText(e),setDialogPosition(o,e),e.removeHintWhenViewed&&DomElement.clearElementsByClassName(e._currentView.element,"journey-js-hint")}}function buildDocumentEvents(e=!0){const o=e?document.addEventListener:document.removeEventListener,t=e?window.addEventListener:window.removeEventListener;_configuration.shortcutKeysEnabled&&o("keydown",onWindowKeyDown),t("resize",onWindowResize)}function onWindowKeyDown(e){_public.isOpen()&&_configuration.shortcutKeysEnabled&&("Escape"===e.code?(e.preventDefault(),onDialogClose()):_configuration_ShortcutKeysEnabled&&("ArrowLeft"===e.code?(e.preventDefault(),onDialogBack()):"ArrowRight"===e.code?(e.preventDefault(),onDialogNext()):"ArrowUp"===e.code?(e.preventDefault(),onWindowKeyCodeUp()):"ArrowDown"===e.code&&(e.preventDefault(),onWindowKeyCodeDown())))}function onWindowResize(){_public.isOpen()&&showDialogAndSetPosition()}function onWindowKeyCodeUp(){0!==_groups[_groups_Current].position&&(removeFocusClassFromLastElement(),_groups[_groups_Current].position=0,showDialogAndSetPosition())}function onWindowKeyCodeDown(){_groups[_groups_Current].position!==_groups[_groups_Current].keys.length-1&&(removeFocusClassFromLastElement(),_groups[_groups_Current].position=_groups[_groups_Current].keys.length-1,showDialogAndSetPosition())}function buildAttributeOptions(e){let o=Default.getObject(e,{});return o.order=Default.getNumber(o.order,0),o.attach=Default.getBoolean(o.attach,!0),o.sendClick=Default.getBoolean(o.sendClick,!1),o.alignTop=Default.getBoolean(o.alignTop,!1),o.alignRight=Default.getBoolean(o.alignRight,!1),o.isHint=Default.getBoolean(o.isHint,!1),o.alignHintToClickPosition=Default.getBoolean(o.alignHintToClickPosition,!1),o.showDisabledBackground=Default.getBoolean(o.showDisabledBackground,!0),o.removeHintWhenViewed=Default.getBoolean(o.removeHintWhenViewed,!1),o.group=Default.getString(o.group,_groups_Default),o=buildAttributeOptionStrings(o),buildAttributeOptionCustomTriggers(o)}function buildAttributeOptionStrings(e){return e.title=Default.getString(e.title,""),e.description=Default.getString(e.description,""),e.tooltip=Default.getString(e.tooltip,""),e}function buildAttributeOptionCustomTriggers(e){return e.events=Default.getObject(e.events,{}),e.events.onEnter=Default.getFunction(e.events.onEnter,null),e.events.onLeave=Default.getFunction(e.events.onLeave,null),e.events.onClose=Default.getFunction(e.events.onClose,null),e.events.onFinish=Default.getFunction(e.events.onFinish,null),e.events.onOpen=Default.getFunction(e.events.onOpen,null),e.events.onStart=Default.getFunction(e.events.onStart,null),e.events.onAddStep=Default.getFunction(e.events.onAddStep,null),e.events.onRemoveStep=Default.getFunction(e.events.onRemoveStep,null),e}function fireCustomTriggerEvent(e,...o){Is.definedFunction(e)&&e.apply(null,[].slice.call(o,0))}function getBrowserUrlParameters(){let e=!1;if(_configuration.browserUrlParametersEnabled){const o=getBrowserUrlArguments(window.location.href);if(Is.defined(o.sjOrderId)){const e=parseInt(o.sjOrderId,10);!isNaN(e)&&e<=_groups[_groups_Current].keys.length-1&&(_groups[_groups_Current].position=e)}Is.defined(o.sjShow)&&(e="true"===o.sjShow)}return e}function getBrowserUrlArguments(e){const o={},t=e.split("?");if(t.length>1){const e=t[1].split("&"),n=e.length;for(let t=0;t<n;t++){const n=e[t].split("=");o[n[0]]=n[1]}}return o}function getObjectFromString(objectString){const result={parsed:!0,object:null};try{Is.definedString(objectString)&&(result.object=JSON.parse(objectString))}catch(e1){try{result.object=eval(`(${objectString})`),Is.definedFunction(result.object)&&(result.object=result.object())}catch(e){_configuration.safeMode||(console.error(_configuration.objectErrorText.replace("{{error_1}}",e1.message).replace("{{error_2}}",e.message)),result.parsed=!1),result.object=null}}return result}function resetDialogPosition(){_public.isOpen()&&(onDialogClose(!1),_groups[_groups_Current].position=0)}function buildDefaultConfiguration(e={}){_configuration=Default.getObject(e,{}),_configuration.safeMode=Default.getBoolean(_configuration.safeMode,!0),_configuration.domElementTypes=Default.getStringOrArray(_configuration.domElementTypes,["*"]),_configuration.showCloseButton=Default.getBoolean(_configuration.showCloseButton,!0),_configuration.shortcutKeysEnabled=Default.getBoolean(_configuration.shortcutKeysEnabled,!0),_configuration.showProgressDots=Default.getBoolean(_configuration.showProgressDots,!0),_configuration.browserUrlParametersEnabled=Default.getBoolean(_configuration.browserUrlParametersEnabled,!0),_configuration.showProgressDotNumbers=Default.getBoolean(_configuration.showProgressDotNumbers,!1),_configuration.showButtons=Default.getBoolean(_configuration.showButtons,!0),_configuration.showDoNotShowAgain=Default.getBoolean(_configuration.showDoNotShowAgain,!1),_configuration.tooltipDelay=Default.getNumber(_configuration.tooltipDelay,750),_configuration.showProgressDotToolTips=Default.getBoolean(_configuration.showProgressDotToolTips,!0),_configuration.closeDialogOnDisabledBackgroundClick=Default.getBoolean(_configuration.closeDialogOnDisabledBackgroundClick,!1),_configuration.showProgressBar=Default.getBoolean(_configuration.showProgressBar,!1),_configuration.scrollToElements=Default.getBoolean(_configuration.scrollToElements,!1),_configuration.dialogMovingEnabled=Default.getBoolean(_configuration.dialogMovingEnabled,!1),_configuration.showProgressBarText=Default.getBoolean(_configuration.showProgressBarText,!1),buildDefaultConfigurationStrings(),buildDefaultConfigurationCustomTriggers()}function buildDefaultConfigurationStrings(){_configuration.backButtonText=Default.getAnyString(_configuration.backButtonText,"Back"),_configuration.nextButtonText=Default.getAnyString(_configuration.nextButtonText,"Next"),_configuration.finishButtonText=Default.getAnyString(_configuration.finishButtonText,"Finish"),_configuration.closeButtonToolTipText=Default.getAnyString(_configuration.closeButtonToolTipText,"Close"),_configuration.doNotShowAgainText=Default.getAnyString(_configuration.doNotShowAgainText,"Do not show again"),_configuration.objectErrorText=Default.getAnyString(_configuration.objectErrorText,"Errors in object: {{error_1}}, {{error_2}}"),_configuration.attributeNotValidErrorText=Default.getAnyString(_configuration.attributeNotValidErrorText,"The attribute '{{attribute_name}}' is not a valid object."),_configuration.attributeNotSetErrorText=Default.getAnyString(_configuration.attributeNotSetErrorText,"The attribute '{{attribute_name}}' has not been set correctly."),_configuration.closeDialogConfirmationText=Default.getAnyString(_configuration.closeDialogConfirmationText,"")}function buildDefaultConfigurationCustomTriggers(){_configuration.onDoNotShowAgainChange=Default.getFunction(_configuration.onDoNotShowAgainChange,null)}const _public={start:function(e=""){return _public.isOpen()||(_groups_Current=Default.getString(e,_groups_Default),_groups.hasOwnProperty(_groups_Current)&&(_groups[_groups_Current].position=0,showDialogAndSetPosition())),_public},show:function(e=""){return _public.isOpen()||(_groups_Current=Default.getString(e,_groups_Current),_groups.hasOwnProperty(_groups_Current)&&(_groups[_groups_Current].position===_groups[_groups_Current].keys.length-1&&(_groups[_groups_Current].position=0),showDialogAndSetPosition())),_public},hide:function(){return _public.isOpen()&&onDialogClose(),_public},isOpen:function(){return Is.defined(_element_Dialog)&&"block"===_element_Dialog.style.display},isComplete:function(){return _groups[_groups_Current].position>=_groups[_groups_Current].keys.length-1},addDocumentSteps:function(){return getElements(),_public},addStep:function(e,o){return Is.definedObject(e)&&Is.definedObject(o)&&(setupElement(e,buildAttributeOptions(o)),_groups[_groups_Current].keys.sort(),resetDialogPosition()),_public},removeStep:function(e){if(Is.definedObject(e)){let o=!1;for(let t in _groups)if(_groups.hasOwnProperty(t))for(let n in _groups[t].json)if(_groups[t].json.hasOwnProperty(n)){const i=_groups[t].json[n];if(i._currentView.element===e){fireCustomTriggerEvent(i.events.onRemoveStep,i._currentView.element),_groups[t].keys.splice(_groups[t].keys.indexOf(i.order),1),delete _groups[t].json[i.order],_groups[t].keys.sort(),o=!0;break}}o?resetDialogPosition():DomElement.clearElementsByClassName(e,"journey-js-hint")}return _public},clearSteps:function(e=""){resetDialogPosition();for(let o in _groups)if(_groups.hasOwnProperty(o)&&(!Is.definedString(e)||e===o))for(let e in _groups[o].json)if(_groups[o].json.hasOwnProperty(e)){const t=_groups[o].json[e];fireCustomTriggerEvent(t.events.onRemoveStep,t._currentView.element)}return Is.definedString(e)?_groups.hasOwnProperty(e)&&delete _groups[e]:_groups={},Is.definedString(e)&&e!==_groups_Default||setupDefaultGroup(_groups),_public},clearHints:function(){return DomElement.clearElementsByClassName(document.body,"journey-js-hint"),_public},reverseStepOrder:function(){return _groups[_groups_Current].keys.reverse(),resetDialogPosition(),_public},setConfiguration:function(e){if(Is.definedObject(e)){let o=!1;const t=_configuration;for(let n in e)e.hasOwnProperty(n)&&_configuration.hasOwnProperty(n)&&t[n]!==e[n]&&(t[n]=e[n],o=!0);o&&buildDefaultConfiguration(t)}return _public},getVersion:function(){return"2.1.0"}};buildDefaultConfiguration(),document.addEventListener("DOMContentLoaded",(()=>{setupDefaultGroup(),renderDisabledBackground(),renderDialog(),renderToolTip(),getElements(),buildDocumentEvents(),getBrowserUrlParameters()&&_public.show()})),Is.defined(window.$journey)||(window.$journey=_public)})();
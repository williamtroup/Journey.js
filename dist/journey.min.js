/*! Journey.js v0.3.0 | (c) Bunoon | MIT License */
(function(){function y(){var a=z[m[k]];l(a.element)&&G(a.onClose,a.element);H(!1);a=n.body;var c=I;try{a.contains(c)&&a.removeChild(c)}catch(b){console.warn(b.message)}g.style.display="none"}function T(){H();k--;0>k&&(k=m.length-1);J()}function U(){k===m.length-1?y():(H(),k++,J())}function J(){var a=z[m[k]];if(l(a)&&l(a.element)){var c=n.body,b=I;try{c.contains(b)||c.appendChild(b)}catch(u){console.warn(u.message)}A.style.display=f.showCloseButton?"block":"none";a.element.className+=p.space+"journey-js-element-focus";
var e=a.element;for(b=c=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)c+=e.offsetLeft-e.scrollLeft,b+=e.offsetTop-e.scrollTop,e=e.offsetParent;var h=n.documentElement;e=(q.pageXOffset||h.scrollLeft)-(h.clientLeft||0);h=(q.pageYOffset||h.scrollTop)-(h.clientTop||0);b=b-h+a.element.offsetHeight;c-=e;e=a.element;h=null;q.getComputedStyle?h=document.defaultView.getComputedStyle(e,null).getPropertyValue("position"):e.currentStyle&&(h=e.currentStyle.position);e=h;e!==p.empty&&"static"===e.toLowerCase()&&
(K=e,a.element.style.position="relative");v.innerHTML=f.previousButtonText;v.disabled=0===k;B.innerHTML=k>=m.length-1?f.finishButtonText:f.nextButtonText;r(a.title)?C.innerHTML=a.title:C.innerHTML=p.empty;r(a.description)?D.innerHTML=a.description:D.innerHTML=p.empty;g.style.display="block";c+g.offsetWidth>q.innerWidth&&(c-=g.offsetWidth+a.element.offsetWidth);b+g.offsetHeight>q.innerHeight&&(b-=g.offsetHeight+a.element.offsetHeight);g.style.top=b+"px";g.style.left=c+"px";G(a.onEnter,a.element)}}
function H(a){a=l(a)?a:!0;var c=z[m[k]];l(c.element)&&(c.element.className=c.element.className.replace(p.space+"journey-js-element-focus",p.empty),l(K)&&(c.element.style.position=K),a&&G(c.onLeave,c.element))}function l(a){return null!==a&&void 0!==a&&a!==p.empty}function E(a){return l(a)&&"object"===typeof a}function Q(a){return l(a)&&"boolean"===typeof a}function r(a){return l(a)&&"string"===typeof a}function L(a){return l(a)&&"function"===typeof a}function R(a){return l(a)&&"number"===typeof a}
function t(a,c){var b=a.toLowerCase();var e="text"===b;M.hasOwnProperty(b)||(M[b]=e?n.createTextNode(p.empty):n.createElement(b));b=M[b].cloneNode(!1);l(c)&&(b.className=c);return b}function G(a){L(a)&&a.apply(null,[].slice.call(arguments,1))}function w(a,c){return r(a)?a:c}function N(a,c){return L(a)?a:c}function V(a){var c=!0,b=null;try{r(a)&&(b=JSON.parse(a))}catch(e){try{b=eval("("+a+")"),L(b)&&(b=b())}catch(h){f.safeMode||(console.error("Errors in object: "+e.message+", "+h.message),c=!1),b=
null}}return{parsed:c,result:b}}function S(){var a=f;var c=f.safeMode;c=Q(c)?c:!0;a.safeMode=c;a=f;var b=f.domElementTypes;c=["*"];r(b)?(b=b.split(p.space),0===b.length&&(b=c)):b=E(b)&&b instanceof Array?b:c;a.domElementTypes=b;f.previousButtonText=w(f.previousButtonText,"Previous");f.nextButtonText=w(f.nextButtonText,"Next");f.finishButtonText=w(f.finishButtonText,"Finish");a=f;c=f.showCloseButton;c=Q(c)?c:!0;a.showCloseButton=c}var W=this,n=null,q=null,f={},p={empty:"",space:" "},M={},z={},m=[],
k=0,K=null,I=null,g=null,A=null,C=null,D=null,v=null,B=null;this.setConfiguration=function(a){f=E(a)?a:{};S();W.isOpen()&&(y(),k=0);return this};this.show=function(){k===m.length-1&&(k=0);J()};this.hide=function(){y()};this.isOpen=function(){return"block"===g.style.display};this.isComplete=function(){return k>=m.length-1};this.getVersion=function(){return"0.3.0"};(function(a,c){n=a;q=c;S();n.addEventListener("DOMContentLoaded",function(){I=t("div","journey-js-disabled-background");g=t("div","journey-js-dialog");
g.style.display="none";n.body.appendChild(g);A=t("button","close");A.onclick=y;g.appendChild(A);C=t("div","title");g.appendChild(C);D=t("div","description");g.appendChild(D);var b=t("div","buttons");g.appendChild(b);v=t("button","previous");v.onclick=T;b.appendChild(v);B=t("button","next");B.onclick=U;b.appendChild(B);b=f.domElementTypes;for(var e=b.length,h=0;h<e;h++){var u=n.getElementsByTagName(b[h]);u=[].slice.call(u);for(var X=u.length,O=0;O<X;O++){var x=u[O],P=!0;if(l(x)&&x.hasAttribute("data-journey-options")){var d=
x.getAttribute("data-journey-options");if(r(d))if(d=V(d),d.parsed&&E(d.result)){d=d.result;var Y=d=E(d)?d:{};var F=d.order;F=R(F)?F:0;Y.order=F;d.title=w(d.title,null);d.description=w(d.description,null);d.onEnter=N(d.onEnter,null);d.onLeave=N(d.onLeave,null);d.onClose=N(d.onClose,null);d.element=x;R(d.order)&&(r(d.title)||r(d.description))&&(z[d.order]=d,m.push(d.order),x.removeAttribute("data-journey-options"))}else f.safeMode||(console.error("The attribute 'data-journey-options' is not a valid object."),
P=!1);else f.safeMode||(console.error("The attribute 'data-journey-options' has not been set correctly."),P=!1)}if(!P)break}}m.sort()});l(q.$journey)||(q.$journey=this)})(document,window)})();
/*! Journey.js v0.3.0 | (c) Bunoon | MIT License */
(function(){function v(){var a=z[n[l]];k(a.element)&&G(a.onClose,a.element);H(!1);a=m.body;var c=I;try{a.contains(c)&&a.removeChild(c)}catch(b){console.warn(b.message)}g.style.display="none"}function S(){H();l--;0>l&&(l=n.length-1);J()}function T(){l===n.length-1?v():(H(),l++,J())}function J(){var a=z[n[l]];if(k(a)&&k(a.element)){var c=m.body,b=I;try{c.contains(b)||c.appendChild(b)}catch(u){console.warn(u.message)}A.style.display=f.showCloseButton?"block":"none";a.element.className+=p.space+"journey-js-element-focus";
var e=a.element;for(b=c=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)c+=e.offsetLeft-e.scrollLeft,b+=e.offsetTop-e.scrollTop,e=e.offsetParent;var h=m.documentElement;e=(q.pageXOffset||h.scrollLeft)-(h.clientLeft||0);h=(q.pageYOffset||h.scrollTop)-(h.clientTop||0);b=b-h+a.element.offsetHeight;c-=e;e=a.element;h=null;q.getComputedStyle?h=document.defaultView.getComputedStyle(e,null).getPropertyValue("position"):e.currentStyle&&(h=e.currentStyle.position);e=h;e!==p.empty&&"static"===e.toLowerCase()&&
(K=e,a.element.style.position="relative");w.innerHTML=f.previousButtonText;w.disabled=0===l;B.innerHTML=l>=n.length-1?f.finishButtonText:f.nextButtonText;r(a.title)?C.innerHTML=a.title:C.innerHTML=p.empty;r(a.description)?D.innerHTML=a.description:D.innerHTML=p.empty;g.style.display="block";c+g.offsetWidth>q.innerWidth&&(c-=g.offsetWidth+a.element.offsetWidth);b+g.offsetHeight>q.innerHeight&&(b-=g.offsetHeight+a.element.offsetHeight);g.style.top=b+"px";g.style.left=c+"px";G(a.onEnter,a.element)}}
function H(a){a=k(a)?a:!0;var c=z[n[l]];k(c.element)&&(c.element.className=c.element.className.replace(p.space+"journey-js-element-focus",p.empty),k(K)&&(c.element.style.position=K),a&&G(c.onLeave,c.element))}function X(a){U.isOpen()&&(a.keyCode===L.escape?(a.preventDefault(),v()):a.keyCode===L.left?(a.preventDefault(),S()):a.keyCode===L.right&&(a.preventDefault(),T()))}function k(a){return null!==a&&void 0!==a&&a!==p.empty}function E(a){return k(a)&&"object"===typeof a}function r(a){return k(a)&&
"string"===typeof a}function M(a){return k(a)&&"function"===typeof a}function V(a){return k(a)&&"number"===typeof a}function t(a,c){var b=a.toLowerCase();var e="text"===b;N.hasOwnProperty(b)||(N[b]=e?m.createTextNode(p.empty):m.createElement(b));b=N[b].cloneNode(!1);k(c)&&(b.className=c);return b}function G(a){M(a)&&a.apply(null,[].slice.call(arguments,1))}function x(a,c){return r(a)?a:c}function O(a,c){return k(a)&&"boolean"===typeof a?a:c}function P(a,c){return M(a)?a:c}function Y(a){var c=!0,b=
null;try{r(a)&&(b=JSON.parse(a))}catch(e){try{b=eval("("+a+")"),M(b)&&(b=b())}catch(h){f.safeMode||(console.error("Errors in object: "+e.message+", "+h.message),c=!1),b=null}}return{parsed:c,result:b}}function W(){f.safeMode=O(f.safeMode,!0);var a=f,c=f.domElementTypes,b=["*"];r(c)?(c=c.split(p.space),0===c.length&&(c=b)):c=E(c)&&c instanceof Array?c:b;a.domElementTypes=c;f.previousButtonText=x(f.previousButtonText,"Previous");f.nextButtonText=x(f.nextButtonText,"Next");f.finishButtonText=x(f.finishButtonText,
"Finish");f.showCloseButton=O(f.showCloseButton,!0);f.shortcutKeysEnabled=O(f.shortcutKeysEnabled,!0)}var U=this,m=null,q=null,f={},L={escape:27,left:37,right:39},p={empty:"",space:" "},N={},z={},n=[],l=0,K=null,I=null,g=null,A=null,C=null,D=null,w=null,B=null;this.setConfiguration=function(a){f=E(a)?a:{};W();U.isOpen()&&(v(),l=0);return this};this.show=function(){l===n.length-1&&(l=0);J()};this.hide=function(){v()};this.isOpen=function(){return"block"===g.style.display};this.isComplete=function(){return l>=
n.length-1};this.getVersion=function(){return"0.3.0"};(function(a,c){m=a;q=c;W();m.addEventListener("DOMContentLoaded",function(){I=t("div","journey-js-disabled-background");g=t("div","journey-js-dialog");g.style.display="none";m.body.appendChild(g);A=t("button","close");A.onclick=v;g.appendChild(A);C=t("div","title");g.appendChild(C);D=t("div","description");g.appendChild(D);var b=t("div","buttons");g.appendChild(b);w=t("button","previous");w.onclick=S;b.appendChild(w);B=t("button","next");B.onclick=
T;b.appendChild(B);b=f.domElementTypes;for(var e=b.length,h=0;h<e;h++){var u=m.getElementsByTagName(b[h]);u=[].slice.call(u);for(var Z=u.length,Q=0;Q<Z;Q++){var y=u[Q],R=!0;if(k(y)&&y.hasAttribute("data-journey-options")){var d=y.getAttribute("data-journey-options");if(r(d))if(d=Y(d),d.parsed&&E(d.result)){d=d.result;var aa=d=E(d)?d:{};var F=d.order;F=V(F)?F:0;aa.order=F;d.title=x(d.title,null);d.description=x(d.description,null);d.onEnter=P(d.onEnter,null);d.onLeave=P(d.onLeave,null);d.onClose=P(d.onClose,
null);d.element=y;V(d.order)&&(r(d.title)||r(d.description))&&(z[d.order]=d,n.push(d.order),y.removeAttribute("data-journey-options"))}else f.safeMode||(console.error("The attribute 'data-journey-options' is not a valid object."),R=!1);else f.safeMode||(console.error("The attribute 'data-journey-options' has not been set correctly."),R=!1)}if(!R)break}}n.sort();b=void 0;b=(b=k(b)?b:!0)?m.addEventListener:m.removeEventListener;f.shortcutKeysEnabled&&b("keydown",X)});k(q.$journey)||(q.$journey=this)})(document,
window)})();
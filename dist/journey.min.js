/*! Journey.js v0.2.0 | (c) Bunoon | MIT License */
(function(){function F(){var a=x[m[l]];k(a.element)&&G(a.onClose,a.element);H(!1);a=n.body;var c=I;try{a.contains(c)&&a.removeChild(c)}catch(b){console.warn(b.message)}g.style.display="none"}function T(){H();l--;0>l&&(l=m.length-1);J()}function U(){l===m.length-1?F():(H(),l++,J())}function J(){var a=x[m[l]];if(k(a)&&k(a.element)){var c=n.body,b=I;try{c.contains(b)||c.appendChild(b)}catch(u){console.warn(u.message)}y.style.display=f.showCloseButton?"block":"none";a.element.className+=p.space+"journey-js-element-focus";
var e=a.element;for(b=c=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)c+=e.offsetLeft-e.scrollLeft,b+=e.offsetTop-e.scrollTop,e=e.offsetParent;var h=n.documentElement;e=(q.pageXOffset||h.scrollLeft)-(h.clientLeft||0);h=(q.pageYOffset||h.scrollTop)-(h.clientTop||0);b=b-h+a.element.offsetHeight;c-=e;e=a.element;h=null;q.getComputedStyle?h=document.defaultView.getComputedStyle(e,null).getPropertyValue("position"):e.currentStyle&&(h=e.currentStyle.position);e=h;e!==p.empty&&"static"===e.toLowerCase()&&
(K=e,a.element.style.position="relative");v.innerHTML=f.previousButtonText;v.disabled=0===l;z.innerHTML=l>=m.length-1?f.finishButtonText:f.nextButtonText;r(a.title)?A.innerHTML=a.title:A.innerHTML=p.empty;r(a.description)?B.innerHTML=a.description:B.innerHTML=p.empty;g.style.display="block";c+g.offsetWidth>q.innerWidth&&(c-=g.offsetWidth+a.element.offsetWidth);b+g.offsetHeight>q.innerHeight&&(b-=g.offsetHeight+a.element.offsetHeight);g.style.top=b+"px";g.style.left=c+"px";G(a.onEnter,a.element)}}
function H(a){a=k(a)?a:!0;var c=x[m[l]];k(c.element)&&(c.element.className=c.element.className.replace(p.space+"journey-js-element-focus",p.empty),k(K)&&(c.element.style.position=K),a&&G(c.onLeave,c.element))}function k(a){return null!==a&&void 0!==a&&a!==p.empty}function C(a){return k(a)&&"object"===typeof a}function Q(a){return k(a)&&"boolean"===typeof a}function r(a){return k(a)&&"string"===typeof a}function L(a){return k(a)&&"function"===typeof a}function R(a){return k(a)&&"number"===typeof a}
function t(a,c){var b=a.toLowerCase();var e="text"===b;M.hasOwnProperty(b)||(M[b]=e?n.createTextNode(p.empty):n.createElement(b));b=M[b].cloneNode(!1);k(c)&&(b.className=c);return b}function G(a){L(a)&&a.apply(null,[].slice.call(arguments,1))}function w(a,c){return r(a)?a:c}function N(a,c){return L(a)?a:c}function V(a){var c=!0,b=null;try{r(a)&&(b=JSON.parse(a))}catch(e){try{b=eval("("+a+")"),L(b)&&(b=b())}catch(h){f.safeMode||(console.error("Errors in object: "+e.message+", "+h.message),c=!1),b=
null}}return{parsed:c,result:b}}function S(){var a=f;var c=f.safeMode;c=Q(c)?c:!0;a.safeMode=c;a=f;var b=f.domElementTypes;c=["*"];r(b)?(b=b.split(p.space),0===b.length&&(b=c)):b=C(b)&&b instanceof Array?b:c;a.domElementTypes=b;f.previousButtonText=w(f.previousButtonText,"Previous");f.nextButtonText=w(f.nextButtonText,"Next");f.finishButtonText=w(f.finishButtonText,"Finish");a=f;c=f.showCloseButton;c=Q(c)?c:!0;a.showCloseButton=c}var n=null,q=null,f={},p={empty:"",space:" "},M={},x={},m=[],l=0,K=
null,I=null,g=null,y=null,A=null,B=null,v=null,z=null;this.setConfiguration=function(a){f=C(a)?a:{};S();return this};this.show=function(){l===m.length-1&&(l=0);J()};this.hide=function(){F()};this.isOpen=function(){return"block"===g.style.display};this.isComplete=function(){return l>=m.length-1};this.getVersion=function(){return"0.2.0"};(function(a,c){n=a;q=c;S();n.addEventListener("DOMContentLoaded",function(){I=t("div","journey-js-disabled-background");g=t("div","journey-js-dialog");g.style.display=
"none";n.body.appendChild(g);y=t("button","close");y.onclick=F;g.appendChild(y);A=t("div","title");g.appendChild(A);B=t("div","description");g.appendChild(B);var b=t("div","buttons");g.appendChild(b);v=t("button","previous");v.onclick=T;b.appendChild(v);z=t("button","next");z.onclick=U;b.appendChild(z);b=f.domElementTypes;for(var e=b.length,h=0;h<e;h++){var u=n.getElementsByTagName(b[h]);u=[].slice.call(u);for(var W=u.length,O=0;O<W;O++){var D=u[O],P=!0;if(k(D)&&D.hasAttribute("data-journey-options")){var d=
D.getAttribute("data-journey-options");if(r(d))if(d=V(d),d.parsed&&C(d.result)){d=d.result;var X=d=C(d)?d:{};var E=d.order;E=R(E)?E:0;X.order=E;d.title=w(d.title,null);d.description=w(d.description,null);d.onEnter=N(d.onEnter,null);d.onLeave=N(d.onLeave,null);d.onClose=N(d.onClose,null);d.element=D;R(d.order)&&(r(d.title)||r(d.description))&&(x[d.order]=d,m.push(d.order))}else f.safeMode||(console.error("The attribute 'data-journey-options' is not a valid object."),P=!1);else f.safeMode||(console.error("The attribute 'data-journey-options' has not been set correctly."),
P=!1)}if(!P)break}}m.sort()});k(q.$journey)||(q.$journey=this)})(document,window)})();
/*! Journey.js v0.8.0 | (c) Bunoon | MIT License */
(function(){function y(){var a=C[l[g]];k(a.element)&&D(a.onClose,a.element);z(!1);a=r.body;var b=Q;try{a.contains(b)&&a.removeChild(b)}catch(c){console.warn(c.message)}h.style.display="none"}function V(){0<g&&(z(),g--,u())}function W(){if(g===l.length-1){var a=C[l[g]];y();D(a.onFinish,a.element)}else z(),g++,u()}function u(){var a=C[l[g]];if(k(a)&&k(a.element)){var b=r.body,c=Q;try{b.contains(c)||b.appendChild(c)}catch(f){console.warn(f.message)}K.style.display=e.showCloseButton?"block":"none";a.element.className+=
t.space+"journey-js-element-focus";b=X(a.element,"position");b!==t.empty&&"static"===b.toLowerCase()&&(R=b,a.element.style.position="relative");"block"!==v.style.display&&(v.style.display="block");"block"!==x.style.display&&(x.style.display="block");E.innerHTML=e.backButtonText;E.disabled=0===g;L.innerHTML=g>=l.length-1?e.finishButtonText:e.nextButtonText;Y(a);Z(null,a);v.innerHTML=t.empty;if(e.showProgressDots)for(b=l.length,c=0;c<b;c++)fa(c);D(a.onEnter,a.element);a.sendClick&&a.element.click()}}
function Y(a){w(a.title)?M.innerHTML=a.title:M.innerHTML=t.empty;w(a.description)?N.innerHTML=a.description:N.innerHTML=t.empty}function Z(a,b){var c=aa();"block"!==h.style.display&&(h.style.display="block",D(b.onOpen,b.element));if(b.attach||b.isHint)if(b.isHint&&b.alignHintToClickPosition){c=h;var f=a.pageX,d=a.pageY,n=aa();c.style.display="block";f+c.offsetWidth>m.innerWidth?f-=c.offsetWidth:f++;d+c.offsetHeight>m.innerHeight?d-=c.offsetHeight:d++;f<n.left&&(f=a.pageX+1);d<n.top&&(d=a.pageY+1);
c.style.left=f+"px";c.style.top=d+"px"}else{d=b.element;for(n=f=0;d&&!isNaN(d.offsetLeft)&&!isNaN(d.offsetTop);)f+=d.offsetLeft-d.scrollLeft,n+=d.offsetTop-d.scrollTop,d=d.offsetParent;d=n-c.top+b.element.offsetHeight;c=f-c.left;if(c+h.offsetWidth>m.innerWidth||b.alignRight)c-=h.offsetWidth,c+=b.element.offsetWidth;if(d+h.offsetHeight>m.innerHeight||b.alignTop)d-=h.offsetHeight+b.element.offsetHeight;h.style.top=d+"px";h.style.left=c+"px"}else f=Math.max(0,(m.innerHeight-h.offsetHeight)/2+c.top),
h.style.left=Math.max(0,(m.innerWidth-h.offsetWidth)/2+c.left)+"px",h.style.top=f+"px"}function z(a){a=k(a)?a:!0;var b=C[l[g]];k(b.element)&&(b.element.className=b.element.className.replace(t.space+"journey-js-element-focus",t.empty),k(R)&&(b.element.style.position=R),a&&D(b.onLeave,b.element))}function fa(a){if(a===g){var b=p("div","dot-active");v.appendChild(b);e.showProgressDotNumbers&&(b.className+=" dot-number",b.innerHTML=(a+1).toString())}else b=p("div","dot"),v.appendChild(b),e.showProgressDotNumbers&&
(b.className+=" dot-number",b.innerHTML=(a+1).toString()),b.onclick=function(){z();g=a;u()}}function ba(a,b){b.element=a;ca(b.order)&&(w(b.title)||w(b.description))&&(b.isHint?ha(b):(C[b.order]=b,l.push(b.order)),a.removeAttribute("data-journey-options"))}function ha(a){var b=X(a.element,"position");b!==t.empty&&"static"===b.toLowerCase()&&(a.element.style.position="relative");b=p("div","journey-js-hint");a.element.appendChild(b);b.onclick=function(c){c.preventDefault();c.cancelBubble=!0;x.style.display=
"none";v.style.display="none";Y(a);Z(c,a)}}function ia(a){F.isOpen()&&(a.keyCode===G.escape?(a.preventDefault(),y()):a.keyCode===G.left?(a.preventDefault(),V()):a.keyCode===G.right?(a.preventDefault(),W()):a.keyCode===G.up?(a.preventDefault(),0!==g&&(z(),g=0,u())):a.keyCode===G.down&&(a.preventDefault(),g!==l.length-1&&(z(),g=l.length-1,u())))}function ja(){F.isOpen()&&u()}function da(a){var b=a=O(a)?a:{};var c=a.order;c=ca(c)?c:0;b.order=c;a.attach=q(a.attach,!0);a.sendClick=q(a.sendClick,!1);a.alignTop=
q(a.alignTop,!1);a.alignRight=q(a.alignRight,!1);a.isHint=q(a.isHint,!1);a.alignHintToClickPosition=q(a.alignHintToClickPosition,!1);a.title=H(a.title,null);a.description=H(a.description,null);a.onEnter=I(a.onEnter,null);a.onLeave=I(a.onLeave,null);a.onClose=I(a.onClose,null);a.onFinish=I(a.onFinish,null);a.onOpen=I(a.onOpen,null);return a}function k(a){return null!==a&&void 0!==a&&a!==t.empty}function O(a){return k(a)&&"object"===typeof a}function w(a){return k(a)&&"string"===typeof a}function S(a){return k(a)&&
"function"===typeof a}function ca(a){return k(a)&&"number"===typeof a}function p(a,b){var c=a.toLowerCase();var f="text"===c;T.hasOwnProperty(c)||(T[c]=f?r.createTextNode(t.empty):r.createElement(c));c=T[c].cloneNode(!1);k(b)&&(c.className=b);return c}function aa(){var a=r.documentElement;return{left:(m.pageXOffset||a.scrollLeft)-(a.clientLeft||0),top:(m.pageYOffset||a.scrollTop)-(a.clientTop||0)}}function X(a,b){var c=null;m.getComputedStyle?c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b):
a.currentStyle&&(c=a.currentStyle[b]);return c}function D(a){S(a)&&a.apply(null,[].slice.call(arguments,1))}function H(a,b){return w(a)?a:b}function q(a,b){return k(a)&&"boolean"===typeof a?a:b}function I(a,b){return S(a)?a:b}function ka(a){var b=!0,c=null;try{w(a)&&(c=JSON.parse(a))}catch(f){try{c=eval("("+a+")"),S(c)&&(c=c())}catch(d){e.safeMode||(console.error("Errors in object: "+f.message+", "+d.message),b=!1),c=null}}return{parsed:b,result:c}}function ea(){e.safeMode=q(e.safeMode,!0);var a=
e,b=e.domElementTypes,c=["*"];w(b)?(b=b.split(t.space),0===b.length&&(b=c)):b=O(b)&&b instanceof Array?b:c;a.domElementTypes=b;e.backButtonText=H(e.backButtonText,"Back");e.nextButtonText=H(e.nextButtonText,"Next");e.finishButtonText=H(e.finishButtonText,"Finish");e.showCloseButton=q(e.showCloseButton,!0);e.shortcutKeysEnabled=q(e.shortcutKeysEnabled,!0);e.showProgressDots=q(e.showProgressDots,!0);e.browserUrlParametersEnabled=q(e.browserUrlParametersEnabled,!0);e.showProgressDotNumbers=q(e.showProgressDotNumbers,
!1)}var F=this,r=null,m=null,e={},G={escape:27,left:37,up:38,right:39,down:40},t={empty:"",space:" "},T={},C={},l=[],g=0,R=null,Q=null,h=null,K=null,M=null,N=null,v=null,x=null,E=null,L=null;this.start=function(){g=0;u()};this.show=function(){g===l.length-1&&(g=0);u()};this.hide=function(){y()};this.isOpen=function(){return"block"===h.style.display};this.isComplete=function(){return g>=l.length-1};this.addStep=function(a,b){ba(a,da(b));l.sort();F.isOpen()&&(y(),g=0);return this};this.setConfiguration=
function(a){e=O(a)?a:{};ea();F.isOpen()&&(y(),g=0);return this};this.getVersion=function(){return"0.8.0"};(function(a,b){r=a;m=b;ea();r.addEventListener("DOMContentLoaded",function(){Q=p("div","journey-js-disabled-background");h=p("div","journey-js-dialog");h.style.display="none";r.body.appendChild(h);K=p("button","close");K.onclick=y;h.appendChild(K);M=p("div","title");h.appendChild(M);N=p("div","description");h.appendChild(N);v=p("div","progress-dots");h.appendChild(v);x=p("div","buttons");h.appendChild(x);
E=p("button","back");E.onclick=V;x.appendChild(E);L=p("button","next");L.onclick=W;x.appendChild(L);for(var c=e.domElementTypes,f=c.length,d=0;d<f;d++){var n=r.getElementsByTagName(c[d]);n=[].slice.call(n);for(var J=n.length,A=0;A<J;A++){var P=n[A],U=!0;if(k(P)&&P.hasAttribute("data-journey-options")){var B=P.getAttribute("data-journey-options");w(B)?(B=ka(B),B.parsed&&O(B.result)?ba(P,da(B.result)):e.safeMode||(console.error("The attribute 'data-journey-options' is not a valid object."),U=!1)):e.safeMode||
(console.error("The attribute 'data-journey-options' has not been set correctly."),U=!1)}if(!U)break}}l.sort();f=void 0;c=(f=k(f)?f:!0)?r.addEventListener:r.removeEventListener;f=f?m.addEventListener:m.removeEventListener;e.shortcutKeysEnabled&&c("keydown",ia);f("resize",ja);c=!1;if(e.browserUrlParametersEnabled){f={};d=m.location.href.split("?");if(1<d.length)for(d=d[1].split("&"),n=d.length,J=0;J<n;J++)A=d[J].split("="),f[A[0]]=A[1];k(f.sjOrderId)&&(d=parseInt(f.sjOrderId,10),!isNaN(d)&&d<=l.length-
1&&(g=d));k(f.sjShow)&&(c="true"===f.sjShow)}c&&F.show()});k(m.$journey)||(m.$journey=this)})(document,window)})();
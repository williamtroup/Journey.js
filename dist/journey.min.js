/*! Journey.js v0.4.0 | (c) Bunoon | MIT License */
(function(){function v(){var a=w[n[l]];k(a.element)&&A(a.onClose,a.element);I(!1);a=m.body;var c=J;try{a.contains(c)&&a.removeChild(c)}catch(b){console.warn(b.message)}g.style.display="none"}function S(){0<l&&(I(),l--,K())}function T(){if(l===n.length-1){var a=w[n[l]];v();A(a.onFinish,a.element)}else I(),l++,K()}function K(){var a=w[n[l]];if(k(a)&&k(a.element)){var c=m.body,b=J;try{c.contains(b)||c.appendChild(b)}catch(u){console.warn(u.message)}B.style.display=f.showCloseButton?"block":"none";a.element.className+=
p.space+"journey-js-element-focus";var e=a.element;for(b=c=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)c+=e.offsetLeft-e.scrollLeft,b+=e.offsetTop-e.scrollTop,e=e.offsetParent;var h=m.documentElement;e=(q.pageXOffset||h.scrollLeft)-(h.clientLeft||0);h=(q.pageYOffset||h.scrollTop)-(h.clientTop||0);b=b-h+a.element.offsetHeight;c-=e;e=a.element;h=null;q.getComputedStyle?h=document.defaultView.getComputedStyle(e,null).getPropertyValue("position"):e.currentStyle&&(h=e.currentStyle.position);e=h;e!==
p.empty&&"static"===e.toLowerCase()&&(L=e,a.element.style.position="relative");x.innerHTML=f.previousButtonText;x.disabled=0===l;C.innerHTML=l>=n.length-1?f.finishButtonText:f.nextButtonText;r(a.title)?D.innerHTML=a.title:D.innerHTML=p.empty;r(a.description)?E.innerHTML=a.description:E.innerHTML=p.empty;g.style.display="block";c+g.offsetWidth>q.innerWidth&&(c-=g.offsetWidth+a.element.offsetWidth);b+g.offsetHeight>q.innerHeight&&(b-=g.offsetHeight+a.element.offsetHeight);g.style.top=b+"px";g.style.left=
c+"px";A(a.onEnter,a.element)}}function I(a){a=k(a)?a:!0;var c=w[n[l]];k(c.element)&&(c.element.className=c.element.className.replace(p.space+"journey-js-element-focus",p.empty),k(L)&&(c.element.style.position=L),a&&A(c.onLeave,c.element))}function X(a){U.isOpen()&&(a.keyCode===M.escape?(a.preventDefault(),v()):a.keyCode===M.left?(a.preventDefault(),S()):a.keyCode===M.right&&(a.preventDefault(),T()))}function k(a){return null!==a&&void 0!==a&&a!==p.empty}function F(a){return k(a)&&"object"===typeof a}
function r(a){return k(a)&&"string"===typeof a}function N(a){return k(a)&&"function"===typeof a}function V(a){return k(a)&&"number"===typeof a}function t(a,c){var b=a.toLowerCase();var e="text"===b;O.hasOwnProperty(b)||(O[b]=e?m.createTextNode(p.empty):m.createElement(b));b=O[b].cloneNode(!1);k(c)&&(b.className=c);return b}function A(a){N(a)&&a.apply(null,[].slice.call(arguments,1))}function y(a,c){return r(a)?a:c}function P(a,c){return k(a)&&"boolean"===typeof a?a:c}function G(a,c){return N(a)?a:
c}function Y(a){var c=!0,b=null;try{r(a)&&(b=JSON.parse(a))}catch(e){try{b=eval("("+a+")"),N(b)&&(b=b())}catch(h){f.safeMode||(console.error("Errors in object: "+e.message+", "+h.message),c=!1),b=null}}return{parsed:c,result:b}}function W(){f.safeMode=P(f.safeMode,!0);var a=f,c=f.domElementTypes,b=["*"];r(c)?(c=c.split(p.space),0===c.length&&(c=b)):c=F(c)&&c instanceof Array?c:b;a.domElementTypes=c;f.previousButtonText=y(f.previousButtonText,"Previous");f.nextButtonText=y(f.nextButtonText,"Next");
f.finishButtonText=y(f.finishButtonText,"Finish");f.showCloseButton=P(f.showCloseButton,!0);f.shortcutKeysEnabled=P(f.shortcutKeysEnabled,!0)}var U=this,m=null,q=null,f={},M={escape:27,left:37,right:39},p={empty:"",space:" "},O={},w={},n=[],l=0,L=null,J=null,g=null,B=null,D=null,E=null,x=null,C=null;this.setConfiguration=function(a){f=F(a)?a:{};W();U.isOpen()&&(v(),l=0);return this};this.show=function(){l===n.length-1&&(l=0);K()};this.hide=function(){v()};this.isOpen=function(){return"block"===g.style.display};
this.isComplete=function(){return l>=n.length-1};this.getVersion=function(){return"0.4.0"};(function(a,c){m=a;q=c;W();m.addEventListener("DOMContentLoaded",function(){J=t("div","journey-js-disabled-background");g=t("div","journey-js-dialog");g.style.display="none";m.body.appendChild(g);B=t("button","close");B.onclick=v;g.appendChild(B);D=t("div","title");g.appendChild(D);E=t("div","description");g.appendChild(E);var b=t("div","buttons");g.appendChild(b);x=t("button","previous");x.onclick=S;b.appendChild(x);
C=t("button","next");C.onclick=T;b.appendChild(C);b=f.domElementTypes;for(var e=b.length,h=0;h<e;h++){var u=m.getElementsByTagName(b[h]);u=[].slice.call(u);for(var Z=u.length,Q=0;Q<Z;Q++){var z=u[Q],R=!0;if(k(z)&&z.hasAttribute("data-journey-options")){var d=z.getAttribute("data-journey-options");if(r(d))if(d=Y(d),d.parsed&&F(d.result)){d=d.result;var aa=d=F(d)?d:{};var H=d.order;H=V(H)?H:0;aa.order=H;d.title=y(d.title,null);d.description=y(d.description,null);d.onEnter=G(d.onEnter,null);d.onLeave=
G(d.onLeave,null);d.onClose=G(d.onClose,null);d.onFinish=G(d.onFinish,null);d.element=z;V(d.order)&&(r(d.title)||r(d.description))&&(w[d.order]=d,n.push(d.order),z.removeAttribute("data-journey-options"))}else f.safeMode||(console.error("The attribute 'data-journey-options' is not a valid object."),R=!1);else f.safeMode||(console.error("The attribute 'data-journey-options' has not been set correctly."),R=!1)}if(!R)break}}n.sort();b=void 0;b=(b=k(b)?b:!0)?m.addEventListener:m.removeEventListener;f.shortcutKeysEnabled&&
b("keydown",X)});k(q.$journey)||(q.$journey=this)})(document,window)})();
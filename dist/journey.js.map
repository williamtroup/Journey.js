{"version":3,"sources":["../src/journey.ts"],"names":["result"],"mappings":"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","sourcesContent":["/**\n * Journey.js\n * \n * A lightweight, easy-to-use JavaScript library to create interactive, customizable, accessible guided tours across your websites or web apps!\n * \n * @file        journey.js\n * @version     v2.0.0\n * @author      Bunoon\n * @license     MIT License\n * @copyright   Bunoon 2024\n */\n\n\nimport {\n    type Configuration,\n    type BindingOptions,\n    type Events } from \"./ts/type\";\n\nimport { Char } from \"./ts/enum\";\n\n\ntype StringToJson = {\n    parsed: boolean;\n    object: any;\n};\n\n\n( () => {\n    // Variables: Configuration\n    let _configuration: Configuration = {} as Configuration;\n\n    // Variables: Groups\n    const _groups_Default: string = \"default\";\n    let _groups_Current: string = _groups_Default;\n    const _groups: object = {};\n\n\n    /*\n     * ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n     * Triggering Custom Events\n     * ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n     */\n\n    function fireCustomTriggerEvent( triggerFunction: Function, ...args : any[] ) : void {\n        if ( isDefinedFunction( triggerFunction ) ) {\n            triggerFunction.apply( null, [].slice.call( args, 0 ) );\n        }\n    }\n\n\n    /*\n     * ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n     * Browser URL Parameters\n     * ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n     */\n\n    function getBrowserUrlParameters() : boolean {\n        let show: boolean = false;\n\n        if ( _configuration.browserUrlParametersEnabled ) {\n            const url: string = window.location.href;\n            const urlArguments: any = getBrowserUrlArguments( url );\n\n            if ( isDefined( urlArguments.sjOrderId ) ) {\n                const orderId: number = parseInt( urlArguments.sjOrderId, 10 );\n\n                if ( !isNaN( orderId ) && orderId <= _groups[ _groups_Current ].keys.length - 1 ) {\n                    _groups[ _groups_Current ].position = orderId;\n                }\n            }\n\n            if ( isDefined( urlArguments.sjShow ) ) {\n                show = urlArguments.sjShow === \"true\";\n            }\n        }\n\n        return show;\n    }\n\n    function getBrowserUrlArguments( url: string ) : any {\n        const urlArguments: object = {};\n        const urlDataParts: string[] = url.split( \"?\" );\n\n        if ( urlDataParts.length > 1 ) {\n            const parsedArgs: string[] = urlDataParts[ 1 ].split( \"&\" );\n            const parsedArgsLength: number = parsedArgs.length;\n\n            for ( var parsedArgsIndex = 0; parsedArgsIndex < parsedArgsLength; parsedArgsIndex++ ) {\n                const parsedArg: string[] = parsedArgs[ parsedArgsIndex ].split( \"=\" );\n\n                urlArguments[ parsedArg[ 0 ] ] = parsedArg[ 1 ];\n            }\n        }\n\n        return urlArguments;\n    }\n\n\n    /*\n     * ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n     * Validation\n     * ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n     */\n\n    function isDefined( value: any ) : boolean {\n        return value !== null && value !== undefined && value !== Char.empty;\n    }\n\n    function isDefinedObject( object: any ) : boolean {\n        return isDefined( object ) && typeof object === \"object\";\n    }\n\n    function isDefinedBoolean( object: any ) : boolean {\n        return isDefined( object ) && typeof object === \"boolean\";\n    }\n\n    function isDefinedString( object: any ) : boolean {\n        return isDefined( object ) && typeof object === \"string\";\n    }\n\n    function isDefinedFunction( object: any ) : boolean {\n        return isDefined( object ) && typeof object === \"function\";\n    }\n\n    function isDefinedNumber( object: any ) : boolean {\n        return isDefined( object ) && typeof object === \"number\";\n    }\n\n    function isDefinedArray( object: any ) : boolean {\n        return isDefinedObject( object ) && object instanceof Array;\n    }\n\n\n    /*\n     * ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n     * Default Parameter/Option Handling\n     * ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n     */\n\n    function getDefaultAnyString( value: any, defaultValue: string ) : string {\n        return typeof value === \"string\" ? value : defaultValue;\n    }\n\n    function getDefaultString( value: any, defaultValue: string ) : string {\n        return isDefinedString( value ) ? value : defaultValue;\n    }\n\n    function getDefaultBoolean( value: any, defaultValue: boolean ) : boolean {\n        return isDefinedBoolean( value ) ? value : defaultValue;\n    }\n\n    function getDefaultNumber( value: any, defaultValue: number ) : number {\n        return isDefinedNumber( value ) ? value : defaultValue;\n    }\n\n    function getDefaultFunction( value: any, defaultValue: object ) : any {\n        return isDefinedFunction( value ) ? value : defaultValue;\n    }\n\n    function getDefaultObject( value: any, defaultValue: object ) : object {\n        return isDefinedObject( value ) ? value : defaultValue;\n    }\n\n    function getDefaultArray( value: any, defaultValue: any[] ) : any[] {\n        return isDefinedArray( value ) ? value : defaultValue;\n    }\n\n    function getDefaultStringOrArray( value: any, defaultValue: any[] ) : any[] {\n        let result: any[] = defaultValue;\n\n        if ( isDefinedString( value ) ) {\n            const values: string[] = value.toString().split( Char.space );\n\n            if ( values.length === 0 ) {\n                value = defaultValue;\n            } else {\n                result = values;\n            }\n\n        } else {\n            result = getDefaultArray( value, defaultValue );\n        }\n\n        return result;\n    }\n\n    function getObjectFromString( objectString: any ) : StringToJson {\n        const result: StringToJson = {\n            parsed: true,\n            object: null\n        } as StringToJson;\n\n        try {\n            if ( isDefinedString( objectString ) ) {\n                result.object = JSON.parse( objectString );\n            }\n\n        } catch ( e1 ) {\n            try {\n                result.object = eval( \"(\" + objectString + \")\" );\n\n                if ( isDefinedFunction( result.object ) ) {\n                    result.object = result.object();\n                }\n                \n            } catch ( e2 ) {\n                if ( !_configuration.safeMode ) {\n                    console.error( _configuration.objectErrorText.replace( \"{{error_1}}\",  e1.message ).replace( \"{{error_2}}\",  e2.message ) );\n                    result.parsed = false;\n                }\n                \n                result.object = null;\n            }\n        }\n\n        return result;\n    }\n\n\n    /*\n     * ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n     * Initialize Journey.js\n     * ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n     */\n\n    ( () => {\n    } ) ();\n} );"]}